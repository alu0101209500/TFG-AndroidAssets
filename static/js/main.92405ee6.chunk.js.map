{"version":3,"sources":["host.js","actions/sign-in-actions.js","actions/user-actions.js","actions/auth-actions.js","components/page-elements/LoginForm.js","components/page-elements/Main.js","components/SignIn.js","actions/sign-up-actions.js","components/page-elements/SignUpForm.js","components/SignUp.js","actions/displayed-services-actions.js","actions/displayed-profile-actions.js","components/page-elements/Header.js","components/page-elements/Footer.js","components/page-elements/ServiceCard.js","components/Homepage.js","actions/displayed-messages-actions.js","actions/displayed-transactions-actions.js","components/Service.js","actions/service-post-actions.js","components/page-elements/ServiceForm.js","components/ServiceCreation.js","components/page-elements/AdvancedSearchForm.js","components/AdvancedSearch.js","components/Profile.js","components/Messages.js","components/Transactions.js","components/App.js","reportWebVitals.js","index.js","reducers/current-user-reducer.js","reducers/sign-in-reducer.js","reducers/sign-up-reducer.js","reducers/auth-reducer.js","reducers/displayed-services-reducer.js","reducers/service-post-reducer.js","reducers/displayed-profile-reducer.js","reducers/displayed-messages-reducer.js","reducers/displayed-transactions-reducer.js"],"names":["exports","host","UPDATE_SI_FORM","RESET_SI_FORM","UPDATE_SI_MSG","updateSignInForm","event","type","payload","name","target","value","resetSignInForm","updateSignInMessage","message","msg","SET_USER","LOG_OUT","setUser","user","username","fullname","email","registration","icon","logOut","SET_TOKEN","setToken","token","authToken","require","LoginForm","props","handleChange","bind","handleClick","handleKeyPress","e","key","this","console","log","onUpdateSignInForm","chain","signIn","password","b64chain","window","btoa","unescape","encodeURIComponent","requestOptions","method","headers","fetch","then","response","json","status","onUpdateSignInMessage","onSetUser","Android","writeCookies","JSON","stringify","authUser","onSetToken","catch","alert","M","updateTextFields","class","style","fontSize","placeholder","id","onChange","for","onKeyPress","onClick","React","Component","withCookies","connect","state","currentUser","auth","dispatch","bindActionCreators","onResetSignInForm","onLogOut","Main","minHeight","marginTop","marginBottom","marginLeft","marginRight","width","backgroundColor","boxShadow","children","SignIn","redirect","to","UPDATE_SU_FORM","RESET_SU_FORM","UPDATE_SU_MSG","updateSignUpForm","resetSignUpForm","updateSignUpMessage","validUser","validPassword","validEmail","SignUpForm","onUpdateSignUpForm","onUpdateSignUpMessage","validQuery","inputregex","signUp","length","test","passwordRepeat","secondName","userFullname","secondname","body","String","undefined","register","content","login","onResetSignUpForm","SignUp","UPDATE_DS_DISPLAY","ADD_DS_CONTENT","UPDATE_DS_SEARCH","RESET_DS_SEARCH","UPDATE_DS_SERVICE","SET_REDIRECT","UPDATE_DS_FILTERS","RESET_DS_FILTERS","UPDATE_DS_FILTERS_TAGS","SET_PFP","SET_DS_SERVICE","updateDisplay","addContent","services","updateSearch","search","resetSearch","updateDisplayedService","_id","setRedirect","bool","updateFilters","resetFilters","updateFiltersTags","checked","setPFP","img","setDisplayedService","SET_PROFILE","RESET_PROFILE","setProfile","resetProfile","Header","dropdownInstances","sidenavInstances","renderContent","handleButton","loadProfile","that","onSetProfile","onUpdateSearch","onResetFilters","searchtext","displayedServices","page","ipp","onUpdateDisplay","homeredirect","setTimeout","elems","document","querySelectorAll","Sidenav","init","preventScrolling","Dropdown","alignment","constrainWidth","coverTrigger","onSetRedirect","notlogged","href","color","height","display","logged","lineHeight","fontWeight","src","alt","tabindex","Footer","paddingTop","ServiceCard","serviceInfo","elementInfo","images","split","serviceName","price","priceType","serviceDesc","postedBy","Homepage","handleRedirect","element","onUpdateDisplayedService","parsedTags","i","filters","tags","push","datefrom","dateto","Date","getTime","pricefrom","paymentfrom","priceto","paymentto","onAddContent","items","contentloader","borderColor","borderStyle","borderWidth","onResetSearch","UPDATE_DM_MESSAGE","RESET_DM_MESSAGE","SET_DM_RECEIVED","SET_DM_SENT","SET_DM_EDITOR","RESET_DM_ALL","SET_DM_INDEX","SET_DM_DISPLAYED","updateNewMessage","resetNewMessage","setReceivedMessages","setSentMessages","setDisplayEditor","setInteractionIndex","code","setDisplayedMessage","UPDATE_DT_INPUT","RESET_DT_INPUT","SET_DT_MESSAGE","SET_DT_TRANSACTIONS","RESET_DT_ALL","SET_DT_INDEX","updateInput","resetInput","setServerMessage","setTransactions","setTransactionsInteractionIndex","Service","modals","handleContact","updateTransaction","startTransaction","onUpdateTransactionInput","displayed","notes","displayedTransactions","inputFields","aplicantNotes","firstRes","onSetServerMessage","err","onUpdateNewMessage","onSetDisplayEditor","elems2","Slider","elems3","Materialbox","Modal","onSetPFP","dispimages","dispvideos","videos","carousel","str","aux","decodeURIComponent","escape","atob","redirectionContent","padding","onResetTransactionInput","displayedPFP","displayedIcon","margin","border","postedAt","toLocaleDateString","toLocaleTimeString","responseMsg","onResetProfile","UPDATE_SP_FORM","RESET_SP_FORM","ADD_SP_IMAGE","RESET_SP_IMAGE","CHANGE_TAG","updateServiceForm","resetServiceForm","addImage","resetImage","changeTag","ServiceForm","instances","handleImageUpload","attachImages","index","files","results","Promise","res","rej","reader","FileReader","readAsDataURL","onloadend","result","val","onResetImage","values","onAddImage","onUpdateServiceForm","onChangeTag","servicePost","serviceDescription","image","open","onResetServiceForm","taglist","multiple","min","selected","close","ServiceCreation","AdvancedSearchForm","onUpdateFiltersTags","onUpdateFilters","queryBody","AdvancedSearch","Profile","handleUpdate","displayedProfile","userServices","onSetDisplayedService","Image","onload","canvas","createElement","ctx","getContext","drawImage","imgdata","modCtx","scaleX","scaleY","newX","Math","trunc","Number","newY","modImgData","getImageData","ImageData","currentPosition","j","X","Y","X1","Y1","p","q","Ar","data","Br","Cr","Dr","Ag","Bg","Cg","Dg","Ab","Bb","Cb","Db","bilinealScale","putImageData","newimg","toDataURL","newIcon","newDescription","description","newState","serviceList","resolution","screen","previewImg","elementid","borderTop","borderBottom","paddingBottom","totalScore","reviewNumber","reviewScore","borderRight","cursor","toFixed","toDateString","borderLeft","Messages","tabs","floatingbutton","handleSelection","handleModeChange","handleSendMail","handleInteraction","deleteMessage","onSetEditor","onSetDisplayedMessages","msgId","codeSource","displayedMessages","interactionIndex","codeIndex","sent","received","secondRequestOptions","secondRes","onSetReceivedMessages","onSetSentMessages","onSetInteractionIndex","newMessage","subject","Tabs","FloatingActionButton","receivedList","sentList","smallReceivedList","smallSentList","selectedColor","from","sentAt","mainarea","editor","outline","overflowX","overflowY","displayEditor","onResetNewMessage","Transactions","tooltip","setInteraction","refreshTransactions","payWithPunctuation","payWithoutPunctuation","acceptTransaction","rejectTransaction","cancelTransaction","deleteTransaction","transactions","operation","punctuation","finalPayment","previousPayment","firstPayment","proprietaryNotes","onSetTransactions","onResetInput","onSetIndex","Tooltip","proprietaryList","applicantList","closedList","modalContent","requiresFirstPayment","proprietary","applicant","requestedAt","selectedId","closedAt","applicantNotes","previousPaymentMsg","buttonMsg","commision","max","App","cookies","parse","readCookies","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","allReducers","combineReducers","Array","isArray","finished","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","CookiesProvider","getElementById"],"mappings":"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","file":"static/js/main.92405ee6.chunk.js","sourcesContent":["const host = \"http://192.168.1.42\";\n\nexports.host = host","export const UPDATE_SI_FORM = 'signIn:updateSignInForm';\nexport const RESET_SI_FORM = 'signIn:resetSignInForm';\nexport const UPDATE_SI_MSG = 'signIn:updateSignInMessage';\n\nexport function updateSignInForm(event) {\n  return ({\n    type: UPDATE_SI_FORM,\n    payload: {\n      name: event.target.name,\n      value: event.target.value\n    }\n  });\n}\n\nexport function resetSignInForm() {\n  return ({\n    type: RESET_SI_FORM,\n    payload: { }\n  });\n}\n\nexport function updateSignInMessage(message) {\n  return ({\n    type: UPDATE_SI_MSG,\n    payload: {\n      msg: message\n    }\n  });\n}","export const SET_USER = 'currentUser:setUser'; \nexport const LOG_OUT = 'currentUser:logOut'; \nconst baseimg = \"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\";\n\nexport function setUser(user) {\n  return ({\n    type: SET_USER,\n    payload: {\n      username : user.username ? user.username : \"\",\n      fullname : user.fullname ? user.fullname : \"\",\n      email : user.email ? user.email : \"\",\n      registration : user.registration ? user.registration : 0,\n      icon : user.icon ? user.icon : baseimg\n    }\n  });\n}\n\nexport function logOut() {\n  return ({\n    type: LOG_OUT,\n    payload: { }\n  });\n}","export const SET_TOKEN = 'auth:setToken';\n\nexport function setToken(token) {\n  return ({\n    type: SET_TOKEN,\n    payload: {\n      authToken: token\n    }\n  });\n}","import React from \"react\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { updateSignInForm, resetSignInForm, updateSignInMessage } from '../../actions/sign-in-actions'\nimport { setUser, logOut } from '../../actions/user-actions'\nimport { withCookies } from \"react-cookie\";\nimport { setToken } from \"../../actions/auth-actions\";\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\nconst host = require(\"../../host\").host\n\nexport class LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n  }\n\n  handleKeyPress(e) {\n    if(e.key === \"Enter\") {\n      this.handleClick();\n    }\n  }\n\n  handleChange(e) {\n    console.log(e)\n    this.props.onUpdateSignInForm(e);\n  }\n\n  handleClick() {\n    let chain = this.props.signIn.username + \":\" + this.props.signIn.password\n    let b64chain = window.btoa(unescape(encodeURIComponent( chain )));\n\n    let requestOptions = {\n      method: 'POST',\n      headers: { \n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Basic ${b64chain}`\n      }\n    }\n\n    fetch(`${host}/users/auth`, requestOptions).then(response => response.json()).then((e) => {\n        if (e.status === \"true\") {\n          this.props.onUpdateSignInMessage(\"\");\n          this.props.onSetUser(e);\n          if(e.authToken) {\n            if(!window.Android){\n              console.log(\"No se ha podido conectar correctamente con la interfaz de Android\")\n            } else {\n              window.Android.writeCookies(JSON.stringify({\n                authToken: e.authToken,\n                authUser: e.username\n              }));\n            }\n            this.props.onSetToken(e.authToken);\n          }\n        } else {\n          this.props.onUpdateSignInMessage(e.msg);\n        }\n\n      }).catch((e)=> {\n        alert(e);\n    });\n  }\n\n  componentDidMount() {\n    M.updateTextFields();\n  }\n\n  render() {\n      return (\n        <div class=\"container\">\n          <h1 class=\"center\" style={{fontSize: \"30px\"}}>Inicio de sesión</h1>\n          <div class=\"row\">\n            <form class=\"col s12\">\n              <div class=\"row\">\n                <div class=\"input-field col s12\">\n                  <input placeholder=\"Introduzca su usuario\" id=\"usuario\" type=\"text\" name=\"username\" class=\"\" onChange={this.handleChange}/>\n                  <label for=\"usuario\">Usuario</label>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"input-field col s12\">\n                  <input placeholder=\"Introduzca su contraseña\" id=\"contrasena\" type=\"password\" name=\"password\" class=\"\" onChange={this.handleChange} onKeyPress={this.handleKeyPress}/>\n                  <label for=\"contrasena\">Contraseña</label>\n                  <span class=\"helper-text\">{this.props.signIn.msg}</span>\n                </div>\n              </div>\n            </form>\n            <br/>\n            <div class=\"row\">\n              <a class=\"waves-effect waves-light btn col s12\" onClick={this.handleClick}>Iniciar sesión</a>\n            </div>\n          </div>\n        </div>\n    );/*\n    return (\n      <form className=\"Login\">\n        <h2 style={{\n          color: \"white\"\n        }}>Introduzca sus datos:</h2>\n        <input type=\"text\" placeholder=\"Usuario\" name=\"username\" onChange={this.handleChange}></input>\n        <input type=\"password\" placeholder=\"Contraseña\" name= \"password\" onChange={this.handleChange} onKeyPress={this.handleKeyPress}></input>\n        <button type=\"button\" className=\"greenbutton\" onClick={this.handleClick}>Enviar</button>\n        <br></br>\n        <p>{this.props.signIn.msg}</p>\n      </form>      \n    );*/\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return ({\n    currentUser: state.currentUser,\n    signIn: state.signIn,\n    auth: state.auth\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onUpdateSignInForm: updateSignInForm,\n    onResetSignInForm: resetSignInForm,\n    onUpdateSignInMessage: updateSignInMessage,\n    onSetUser: setUser,\n    onLogOut: logOut,\n    onSetToken: setToken\n  }, dispatch); \n}\n\nexport default withCookies(connect(mapStateToProps, mapActionsToProps)(LoginForm));","import React from \"react\";\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\n\nfunction Main(props) {\n    let mainStyles = {\n        minHeight: \"80vh\",\n        marginTop: \"5vh\",\n        marginBottom: \"5%\",\n        marginLeft: \"5%\",\n        marginRight: \"5%\",\n        width: \"90%\",\n        backgroundColor: \"white\",\n        boxShadow: \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\"\n    } \n\n    return (\n        <div style={mainStyles}>\n            {props.children}\n        </div>\n    );\n}\n\nexport default Main;","import React from 'react';\nimport LoginForm from \"./page-elements/LoginForm\";\nimport Main from \"./page-elements/Main\";\nimport { Navigate } from 'react-router'\n\nfunction SignIn(props) {\n  if(props.props.username === \"\" && props.props.redirect == false){\n    return (\n      <div>\n        <Main>\n          <br />\n          <LoginForm />\n        </Main>\n      </div>\n    );\n  } else {\n    return(<Navigate to=\"/\"/>)\n  }\n}\n\nexport default SignIn;","export const UPDATE_SU_FORM = 'signUp:updateSignUpForm';\nexport const RESET_SU_FORM = 'signUp:resetSignUpForm';\nexport const UPDATE_SU_MSG = 'signUp:updateSignUpMessage';\n\nexport function updateSignUpForm(event) {\n  return ({\n    type: UPDATE_SU_FORM,\n    payload: {\n      name: event.target.name,\n      value: event.target.value\n    }\n  });\n}\n\nexport function resetSignUpForm() {\n  return ({\n    type: RESET_SU_FORM,\n    payload: { }\n  });\n}\n\nexport function updateSignUpMessage(message) {\n  return ({\n    type: UPDATE_SU_MSG,\n    payload: {\n      validUser : message.validUser,\n      validPassword : message.validPassword,\n      validEmail : message.validEmail\n    }\n  });\n}","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport \"../../index.css\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { updateSignUpForm, resetSignUpForm, updateSignUpMessage } from '../../actions/sign-up-actions';\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\nconst host = require(\"../../host\").host\n\nexport class SignUpForm extends React.Component {\n  constructor() {\n    super();\n  \n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleChange(e) {   \n    this.props.onUpdateSignUpForm(e);\n  }\n\n  handleClick() { \n    this.props.onUpdateSignUpMessage({\n      validUser: \"\",\n      validPassword: \"\",\n      validEmail: \"\"\n    });\n    \n    let validQuery = true;\n    let inputregex = /[^a-z0-9]/i;\n    let emailregex = /^([a-z]|\\d)+@([a-z]|\\d)+(\\.([a-z][a-z])+)+/i;\n    if(this.props.signUp.username.length <= 5) { \n      this.props.onUpdateSignUpMessage({validUser: \"El nombre de usuario debe contener al menos 6 caracteres\"});\n      validQuery = false;\n    }\n    \n    if(inputregex.test(this.props.signUp.username)){\n      this.props.onUpdateSignUpMessage({validUser: \"El nombre de usuario no debe contener caracteres especiales\"});\n      validQuery = false;\n    }\n\n    if(this.props.signUp.password.length <= 5) { \n      this.props.onUpdateSignUpMessage({validPassword: \"La contraseña debe contener al menos 6 caracteres\"});\n      validQuery = false;\n    }\n    if(inputregex.test(this.props.signUp.password)){\n      this.props.onUpdateSignUpMessage({validPassword: \"La contraseña no debe contener caracteres especiales\"});\n      validQuery = false;\n    }\n\n    if(this.props.signUp.password !== this.props.signUp.passwordRepeat){\n      this.props.onUpdateSignUpMessage({validPassword: \"La contraseña no coincide\"});\n      validQuery = false;\n    }\n    \n    if (!emailregex.test(this.props.signUp.email)) {\n      this.props.onUpdateSignUpMessage({validEmail: \"Introduzca un correo con formato válido: examplemail@example.com\"});\n      validQuery = false;\n    }\n\n    if(this.props.signUp.name == \"\" || this.props.signUp.secondName == \"\") {\n      this.props.onUpdateSignUpMessage({validUser: \"Introduzca nombre y apellidos en los campos correspondientes\"});\n      validQuery = false;\n    }\n\n    if(validQuery) {\n      let userFullname = this.props.signUp.name + \" \" + this.props.signUp.secondname;\n      let requestOptions = {\n        method: 'POST',\n        headers: { \n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }, \n        body: JSON.stringify({ \n          \"username\": this.props.signUp.username ? String(this.props.signUp.username) : undefined,\n          \"password\": this.props.signUp.password ? String(this.props.signUp.password) : undefined,\n          \"fullname\": userFullname,\n          \"email\": this.props.signUp.email ? String(this.props.signUp.email) : undefined\n        })\n      }\n//\n      fetch(`${host}/users`, requestOptions).then(response => response.json()).then((e) => {\n          if(e.type === \"res\") {\n            this.props.onUpdateSignUpForm({\n              target: {\n                name: \"register\",\n                value: e.register === \"true\" ? true : false\n              }\n              \n            });\n\n            this.props.onUpdateSignUpMessage({\n              validUser: e.validUser ? e.validUser : \"\",\n              validPassword: e.validPassword ? e.validPassword : \"\",\n              validEmail: e.validEmail ? e.validEmail : \"\"\n            });\n\n          } else {\n            alert(e.msg)\n          }\n        }).catch((e)=> {\n          alert(e);\n      });\n    }\n  }\n\n  componentDidMount() {\n    M.updateTextFields();\n  }\n\n  render() {\n    let errStyle = {\n      color: \"red\"\n    }\n\n/*    let content = <div>\n        <br/>\n        <form className=\"Login\">\n          <h2>Introduzca sus datos:</h2>\n          <input type=\"text\" placeholder=\"Usuario\" name=\"username\" onChange={this.handleChange} />\n          <p style={errStyle}>{this.props.signUp.validUser}</p>\n          <input type=\"text\" placeholder=\"Correo electrónico\" name= \"email\" onChange={this.handleChange}/>\n          <p style={errStyle}>{this.props.signUp.validEmail}</p>\n          <input type=\"password\" placeholder=\"Contraseña\" name= \"password\" onChange={this.handleChange}/>\n          <input type=\"password\" placeholder=\"Repetir contraseña\" name= \"passwordRepeat\" onChange={this.handleChange}/>\n          <p style={errStyle}>{this.props.signUp.validPassword}</p>\n\n          <button type=\"button\" className=\"greenbutton\" onClick={this.handleClick}>Registrarme</button>\n          <br></br>\n          <p>{this.props.signUp.msg}</p>\n        </form>\n      </div>\n\n    let login = <div>\n        <h1>Usted ha sido registrado satisfactoriamente</h1>\n        <NavLink to=\"/signin\"><button>Iniciar sesión</button></NavLink>\n      </div>*/\n\n    let content = \n    <div class=\"container\">\n      <br/>\n      <h1 class=\"center\" style={{fontSize: \"30px\"}}>Formulario de registro</h1>\n      <div class=\"row\">\n        <form class=\"col s12\">\n          <div class=\"row\">\n            <div class=\"input-field col s12 m6 l6\">\n              <input placeholder=\"Introduzca su usuario\" id=\"usuario\" type=\"text\" name=\"username\" class=\"\" onChange={this.handleChange}/>\n              <label for=\"usuario\">Usuario</label>\n              <span class=\"helper-text\">{this.props.signUp.validUser}</span>\n            </div>\n            <div class=\"input-field col s12 m6 l6\">\n              <input placeholder=\"Introduzca su correo\" id=\"correo\" type=\"text\" name=\"email\" class=\"\" onChange={this.handleChange} />\n              <label for=\"correo\">Correo electrónico</label>\n              <span class=\"helper-text\">{this.props.signUp.validEmail}</span>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"input-field col s12 m6 l6\">\n              <input placeholder=\"Introduzca su nombre\" id=\"name\" type=\"text\" name=\"name\" class=\"\" onChange={this.handleChange} />\n              <label for=\"correo\">Nombre</label>\n            </div>\n            <div class=\"input-field col s12 m6 l6\">\n              <input placeholder=\"Introduzca sus apellidos\" id=\"secondname\" type=\"text\" name=\"secondname\" class=\"\" onChange={this.handleChange} />\n              <label for=\"secondname\">Apellidos</label>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"input-field col s12\">\n              <input placeholder=\"Introduzca su contraseña\" id=\"contrasena\" type=\"password\" name=\"password\" class=\"\" onChange={this.handleChange}/>\n              <label for=\"contrasena\">Contraseña</label>\n              <span class=\"helper-text\">{this.props.signUp.validPassword}</span>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"input-field col s12\">\n              <input placeholder=\"Repita la contraseña\" id=\"contrasenarep\" type=\"password\" name=\"passwordRepeat\" class=\"\" onChange={this.handleChange}/>\n              <label for=\"contrasenarp\">Repita la contraseña</label>\n            </div>\n          </div>          \n        </form>\n        <br/>\n        <div class=\"row\">\n          <a class=\"waves-effect waves-light btn col s12\" onClick={this.handleClick}>Registrarme en el sitio</a>\n        </div>\n      </div>\n    </div>\n\n    let login =\n    <div class=\"container\">\n      <br/>\n      <h1 class=\"center\" style={{fontSize: \"30px\"}}>Usted ha sido registrado satisfactoriamente</h1>\n      <div class=\"row\">\n        <div class=\"col s12\">\n          <NavLink to=\"/signin\"><a class=\"waves-effect waves-light btn col s12\">Iniciar sesión</a></NavLink>\n        </div>\n      </div>\n    </div>\n\n    return (\n      this.props.signUp.register?login:content\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return ({  \n    signUp: state.signUp\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onUpdateSignUpForm: updateSignUpForm,\n    onResetSignUpForm: resetSignUpForm,\n    onUpdateSignUpMessage: updateSignUpMessage\n  }, dispatch); \n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(SignUpForm);","import React from 'react';\nimport Main from \"./page-elements/Main\";\nimport SignUpForm from \"./page-elements/SignUpForm\";\nimport { Navigate } from 'react-router'\n\nfunction SignUp(props) {\n  if(props.props.username === \"\" && props.props.redirect == false){\n    return (\n      <div>\n        <Main>\n          <SignUpForm />\n        </Main>\n      </div>\n    );\n  } else {\n    return(<Navigate to=\"/\"/>)\n  }\n}\n\nexport default SignUp;","export const UPDATE_DS_DISPLAY = 'displayedServices:updateDisplay';\nexport const ADD_DS_CONTENT = 'displayedServices:addContent';\nexport const UPDATE_DS_SEARCH = 'displayedServices:updateSearch';\nexport const RESET_DS_SEARCH = 'displayedServices:resetSearch';\nexport const UPDATE_DS_SERVICE = 'displayedServices:updateDisplayedService';\nexport const SET_REDIRECT = 'displayedServices:setRedirect';\nexport const UPDATE_DS_FILTERS = 'displayedServices:updateFilters';\nexport const RESET_DS_FILTERS = 'displayedServices:resetFilters';\nexport const UPDATE_DS_FILTERS_TAGS = 'displayedServices:updateFiltersTags';\nexport const SET_PFP = 'displayedServices:setPFP';\nexport const SET_DS_SERVICE = 'displayedServices:setDisplayedService';\n\nexport function updateDisplay(event) {\n  return ({\n    type: UPDATE_DS_DISPLAY,\n    payload: {\n      ...event\n    }\n  });\n}\n\nexport function addContent(event) {\n  return ({\n    type: ADD_DS_CONTENT,\n    payload: {\n      services: [...event]\n    }\n  });\n}\n\nexport function updateSearch(event) {\n  return ({\n    type: UPDATE_DS_SEARCH,\n    payload: {\n      search: String(event)\n    }\n  });\n}\n\nexport function resetSearch() {\n  return ({\n    type: RESET_DS_SEARCH,\n    payload: {}\n  });\n}\n\nexport function updateDisplayedService(event) {\n  return ({\n    type: UPDATE_DS_SERVICE,\n    payload: {_id: String(event)}\n  });\n}\n\nexport function setRedirect(bool) {\n  return ({\n    type: SET_REDIRECT,\n    payload: bool\n  })\n}\n\nexport function updateFilters(event) {\n  return ({\n    type: UPDATE_DS_FILTERS,\n    payload: {\n      name: event.target.name,\n      value: event.target.value\n    }\n  });\n}\n\nexport function resetFilters(event) {\n  return ({\n    type: RESET_DS_FILTERS,\n    payload: { }\n  })\n}\n\nexport function updateFiltersTags(event) {\n  return ({\n    type: UPDATE_DS_FILTERS_TAGS,\n    payload: {\n      name: event.target.value,\n      value: event.target.checked\n    }\n  })  \n}\n\nexport function setPFP(event) {\n  return({\n    type: SET_PFP,\n    payload: { \n      img: event\n    }\n  })\n}\n\nexport function setDisplayedService(event) {\n  return({\n    type: SET_DS_SERVICE,\n    payload: { \n      ...event\n    }\n  })\n}","export const SET_PROFILE = 'displayedProfile:setProfile';\nexport const RESET_PROFILE = 'displayedProfile:resetProfile';\n\nexport function setProfile(event) {\n  return ({\n    type: SET_PROFILE,\n    payload: {\n      ...event\n    }\n  });\n}\n\nexport function resetProfile(event) {\n  return ({\n    type: RESET_PROFILE,\n    payload: {}\n  });\n}","import React from \"react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { logOut } from '../../actions/user-actions'\nimport { withCookies } from \"react-cookie\";\nimport { setToken } from \"../../actions/auth-actions\";\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\nimport { resetFilters, setRedirect, updateDisplay, updateSearch } from \"../../actions/displayed-services-actions\";\nimport { setProfile } from \"../../actions/displayed-profile-actions\";\nconst host = require(\"../../host\").host\nconst baseimg = \"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\";\n\nexport class Header extends React.Component {\n    constructor(props) {\n        super(props);\n        this.dropdownInstances = undefined;\n        this.sidenavInstances = undefined;\n        this.handleClick = this.handleClick.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n        this.renderContent = this.renderContent.bind(this);\n        this.handleButton = this.handleButton.bind(this);\n        this.loadProfile = this.loadProfile.bind(this);\n    }\n    loadProfile() {\n      let requestOptions = {\n          method: 'GET',\n          headers: { \n              'Accept': '*/*'\n          }\n      }\n      let that = this;\n      //setTimeout(() => {\n        fetch(`${host}/profile?username=${that.props.currentUser.username}`, requestOptions).then(response => response.json()).then((e) => {         \n                if(e.type == \"res\") {\n                  that.props.onSetProfile(e.value);\n                } else {\n                  console.log(JSON.stringify(e))\n                }\n            }).catch((e)=> {\n                console.log(e);\n                that.props.onLogOut();\n            });\n      //}, 100)\n    }\n\n    handleClick() {\n        this.props.onLogOut();\n        this.props.onSetToken(\"\");\n        if(!window.Android){\n          console.log(\"No se ha podido conectar correctamente con la interfaz de Android\")\n        } else {\n          window.Android.writeCookies(JSON.stringify({\n            authToken: \"\",\n            authUser: \"\"\n          }));\n        }\n    }\n\n    handleChange(e) {\n     this.props.onUpdateSearch(e.target.value) \n    }\n\n    handleKeyPress(e) {\n      this.props.onResetFilters();\n      let searchtext = this.props.displayedServices.search;\n      if(e.key === \"Enter\") {\n        fetch(`${host}/services/search`, {\n          method: 'POST',\n          headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            search: searchtext,\n            page: \"0\",\n            ipp: this.props.displayedServices.ipp\n          })\n        }).then(response => response.json()).then((e) => {\n            if (e.type === \"res\") {\n              this.props.onUpdateDisplay({\n                services: [...e.value],\n                page: 1,\n                search: searchtext,\n                homeredirect: true\n              })\n            } else {\n              alert(e.value);\n            }\n    \n          }).catch((e)=> {\n            console.log(e);\n        });\n      }\n    }\n    componentDidUpdate() {\n      let that = this;\n      setTimeout(() => {\n        let elems = document.querySelectorAll('.sidenav');\n        that.sidenavInstances = M.Sidenav.init(elems, {preventScrolling: false}); //preventScrolling: true\n        if(that.props.currentUser.username !== \"\"){\n          elems = document.querySelectorAll('.dropdown-trigger');\n          that.dropdownInstances = M.Dropdown.init(elems, {alignment: \"right\", constrainWidth: false, coverTrigger: false});\n        }\n      }, 500)      \n    }\n    componentDidMount() {\n      let that = this;\n      setTimeout(() => {\n        let elems = document.querySelectorAll('.sidenav');\n        that.sidenavInstances = M.Sidenav.init(elems, {preventScrolling: false}); //preventScrolling: true\n        if(that.props.currentUser.username !== \"\"){\n          elems = document.querySelectorAll('.dropdown-trigger');\n          that.dropdownInstances = M.Dropdown.init(elems, {alignment: \"right\", constrainWidth: false, coverTrigger: false});\n        }\n      }, 500)\n        \n    }\n\n    handleButton() {\n      this.props.onSetRedirect(false)\n    }\n\n    renderContent() {\n      let notlogged = \n      <div>\n        <div class=\"navbar-fixed\">\n          <nav>\n            <div class=\"nav-wrapper row\" style={{backgroundColor: \"#00774f\"}}>\n              <a href=\"#\" data-target=\"mobile-demo\" class=\"sidenav-trigger col s1\"><i class=\"material-icons\">menu</i></a>\n              <div class=\"col s10 m10 l5 offset-l3\">\n                <input type=\"search\" placeholder=\"Buscar...\" onChange={this.handleChange} onKeyPress={this.handleKeyPress} style={{color: \"white\"}}></input>\n              </div>\n              <ul class=\"col l2 hide-on-med-and-down\">\n                <li><NavLink to=\"/advancedSearch\" onClick={this.handleButton}>Búsqueda avanzada</NavLink></li>\n              </ul>\n              <ul class=\"col l2 right hide-on-med-and-down\">\n                <li><NavLink to=\"/signin\" onClick={this.handleButton}>LogIn</NavLink></li>\n                <li><NavLink to=\"/signup\" onClick={this.handleButton}>Registro</NavLink></li>\n              </ul>\n            </div>\n          </nav>\n        </div>\n\n        <ul class=\"sidenav\" id=\"mobile-demo\">\n          <li><NavLink to=\"/signin\" onClick={this.handleButton}>LogIn</NavLink></li>\n          <li><NavLink to=\"/signup\" onClick={this.handleButton}>Registro</NavLink></li>\n          <li><NavLink to=\"/advancedSearch\" onClick={this.handleButton}>Búsqueda avanzada</NavLink></li>\n          <li><a href=\"#\" type=\"button\" onClick={this.handleClick}>Cerrar Sesión</a></li>\n        </ul>\n\n        <ul class=\"col l2 right hide-on-med-and-down dropdown-trigger\" data-target='dropdown1' style={{width: \"auto\", height: \"64px\", display: \"none\"}}/>\n        <ul id='dropdown1' class='dropdown-content'></ul>\n      </div>\n      \n      \n      let logged = \n      <div>\n        <div class=\"navbar-fixed\">\n          <nav>\n          \n            <div class=\"nav-wrapper row\" style={{backgroundColor: \"#00774f\"}}>\n              <a href=\"#\" data-target=\"mobile-demo\" class=\"sidenav-trigger col s1\"><i class=\"material-icons\">menu</i></a>\n              <div class=\"col s10 m10 l5 offset-l3\">\n                <input type=\"search\" placeholder=\"Buscar...\" onChange={this.handleChange} onKeyPress={this.handleKeyPress} style={{color: \"white\"}}></input>\n              </div>\n              <ul class=\"col l2 hide-on-med-and-down\">\n                <li><NavLink to=\"/advancedSearch\" onClick={this.handleButton}>Búsqueda avanzada</NavLink></li>\n              </ul>\n              <ul class=\"col l2 right hide-on-med-and-down dropdown-trigger\" data-target='dropdown1' style={{width: \"auto\", height: \"64px\"}}>\n                  <li>\n                    <p style={{lineHeight: \"7px\", fontWeight: \"400\", marginTop: \"25%\"}}>{this.props.currentUser.username}</p>\n                  </li>\n                  <li>\n                    <img src={\"data:image/png;base64,\" + this.props.currentUser.icon} alt=\"\" class=\"circle\" style={{width: \"42px\", height: \"42px\", marginTop: \"25%\", marginLeft: \"5px\"}}/>\n                  </li>\n              </ul>\n            </div>\n          </nav>\n        </div>\n\n        \n\n        <ul class=\"sidenav\" id=\"mobile-demo\">\n          <ul class=\"collection\">\n            <li class=\"collection-item avatar\" style={{backgroundColor: \"#f0fff8\"}}>\n              <img src={\"data:image/png;base64,\" + this.props.currentUser.icon} alt=\"\" class=\"circle\"/>\n              <span class=\"title\">{this.props.currentUser.username}</span>\n              <NavLink to=\"/profilePage\" onClick={this.loadProfile}>Mi perfil</NavLink>\n              <NavLink to=\"/transactionsPage\" onClick={this.handleButton}>Mis transacciones</NavLink>\n              <NavLink to=\"/messagesPage\" onClick={this.handleButton}>Mis mensajes</NavLink>\n            </li>\n          </ul>\n          <li><NavLink to=\"/advancedSearch\" onClick={this.handleButton}>Búsqueda avanzada</NavLink></li>\n          <li><NavLink to=\"/servicePost\" onClick={this.handleButton}>Publicar servicio</NavLink></li>  \n          <li><a href=\"#\" type=\"button\" onClick={this.handleClick}>Cerrar Sesión</a></li>\n        </ul>\n\n\n        <ul id='dropdown1' class='dropdown-content'>\n          <li><NavLink to=\"/profilePage\"><a tabindex=\"-1\" href=\"#\" type=\"button\" class=\"nohovering\" onClick={this.loadProfile} style={{color: \"#26a69a\"}}>Mi perfil</a></NavLink></li>\n          <li><NavLink to=\"/transactionsPage\"><a tabindex=\"-1\" href=\"#\" type=\"button\" class=\"nohovering\" onClick={this.handleButton} style={{color: \"#26a69a\"}}>Mis transacciones</a></NavLink></li>\n          <li><NavLink to=\"/messagesPage\"><a tabindex=\"-1\" href=\"#\" type=\"button\" class=\"nohovering\" onClick={this.handleButton} style={{color: \"#26a69a\"}}>Mis mensajes</a></NavLink></li>\n          <li class=\"divider\" tabindex=\"-1\"></li>\n          <li><NavLink to=\"/servicePost\"><a tabindex=\"-1\" href=\"#\" type=\"button\" class=\"nohovering\" onClick={this.handleButton} style={{color: \"#26a69a\"}}>Publicar servicio</a></NavLink></li>\n          <li class=\"divider\" tabindex=\"-1\"></li>\n          <li><a href=\"#\" type=\"button\" onClick={this.handleClick}>Cerrar Sesión</a></li>\n        </ul>\n\n      </div>\n\n      if(this.props.currentUser.username === \"\"){\n        return notlogged\n      } else {\n        return logged\n      }\n    }\n\n    render() {\n      return(this.renderContent())\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    return ({\n      currentUser: state.currentUser,\n      auth: state.auth,\n      displayedServices: state.displayedServices\n    });\n  }\n  \n  const mapActionsToProps = (dispatch, props) => {\n    return bindActionCreators({\n      onLogOut: logOut,\n      onSetToken: setToken,\n      onUpdateSearch: updateSearch,\n      onUpdateDisplay: updateDisplay,\n      onSetRedirect: setRedirect,\n      onResetFilters: resetFilters,\n      onSetProfile: setProfile\n    }, dispatch); \n  }\n  \n  export default withCookies(connect(mapStateToProps, mapActionsToProps)(Header));","import React from \"react\";\n\nfunction Footer() {\n    return (\n        <footer class=\"page-footer\" style={{paddingTop: \"0\", backgroundColor: \"#008d62\"}}>\n          <div class=\"footer-copyright\">\n            <div class=\"container\">\n            2022 - Pablo Alonso Flores\n            <a class=\"grey-text text-lighten-4 right\" href=\"#!\">More Links</a>\n            </div>\n          </div>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from \"react\";\n\nfunction ServiceCard(props) {\n    let serviceInfo = props.elementInfo\n    let img = \"iVBORw0KGgoAAAANSUhEUgAAAssAAAHfCAMAAACReWX5AAAA51BMVEVpXM3TwL6wn8Pl0byHeMmbi8a5qMKHfdH/6rillcXBsMF7bct9b8pqXc365bn+6bjRv75xZMxvYszt2brItsCSg8fSwL6gkMV/ccp7bcrLuL+qmcTZxr13acvn1Lt1aMuGeMn24rmDdcnFs8D04LmUhcejk8Xj0LyzosOhkcXjz7ziz7xxY8yyocOxoMOBcsqunsPArsGuncOPgMjRvr9+b8rv2rqNf8iejsaMfcj757iKe8jLub9rXs3cyb3Jt7+qmsR5bMt5a8upmMT65rmIesl2aMt0Z8uGd8m1pMKXh8f14bmWhsfTbQknAAADrElEQVR42uzc106VURSF0a1IXBaKYG+AXWPvxth7ef/nkXNU5AKM5cjPno7xDF+yd+bFagAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMHTpdQ5g9eKDBJN2brYEcbDBJJ2oosw0maWcNpoGWYbOWd28xLaNl0DLptEwKLZNCy6TQMim0TAotk0LLpNAyKbRMCi2TQsuk0DIptEwKLZNCy6TQMim0TAotk0LL9OjtrpHlA1qmbwt366vXr7RM167Xd3M3tEzPDteay1qmZztqzWMt07MfLd/yX6Zr45YXp6en39sx6Nu45Sn7Mv3TMim0TAotk0LLpNAyKbRMCi2TQsuk0DIptEwKLZNCy6TQMim0TAotk0LLpNAyKbRMCi2TQst06NSRPd88fKdlOvZopdace6Nl+jVV65zUMv2aq3Xua5l+1XrHtUy/ap2nS1qmXzXybP/IC5scPauRvfZl+qdlUmiZFFomhZZJoWVSaJkUWiaFlkmhZVJomRRaJoWWSaFlUmiZFFomxe+1PAQto2X+L1W/3vLNGspcg0m2/LmGMtVgki3PHK9hrNxpMLGWxx7sGcKRUw3+uGUPO73RMim0TAotk0LLpNAyKbRMiu3U8szy0ZkG/be8dKXq5NUG3bd8tlZ9aNB9yxdr1Y4G3bc8pWW0DFomh5ZJoWVSaJkUWiaFlkmhZVJomRQ/aXlxemstapl/0fIQtIyWYbOWD9cGtMy2VrVRy5dqKNcaTLLlhfkaxvxCg4m1PHZs1xCONfjLlqF7WiaFlkmhZVJomRRaJoWWSTFMy2eef3Q5joSWL8xVzYuZ/lt+8qlWnW/Qe8sva+R2g95b3lcjOxtoGbRMLi2TQsuk0DIptEwKLX9pl45NAISBAAB+JY9FQFAQBBdwA3H/ucQB7KKBcDfD0QuX6YXL9CIfx/Cr0WU+kC24jMvwqmQrW0BNVzZyrgE1TXPJFvYlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIiIuAHhdnvCvNaURQAAAABJRU5ErkJggg==\";\n    if(serviceInfo.images.length > 0) {\n        img = serviceInfo.images.split(\",\")[0];\n    }\n    return (\n        <div class=\"medium card\" id={serviceInfo._id}>\n            <div class=\"card-image\" id={serviceInfo._id}>\n            <img src={\"data:image/png;base64,\" + img} id={ serviceInfo._id}/>            \n            </div>\n            <div class=\"card-content\" id={serviceInfo._id}>\n            <span class=\"card-title\" id={serviceInfo._id}>{serviceInfo.serviceName}</span>\n            <p>{serviceInfo.price}€ {serviceInfo.priceType==\"Total\"?\"\":\"/Hora\"}</p>\n            <p class=\"truncate\" id={serviceInfo._id}>{serviceInfo.serviceDesc}</p>\n            </div>\n            <div class=\"card-action\" id={serviceInfo._id}>\n            <a href=\"#\" id={serviceInfo._id}>{serviceInfo.postedBy}</a>\n            </div>\n        </div>\n    )\n}\n\nexport default ServiceCard;","import React from \"react\";\nimport Main from \"./page-elements/Main\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { withCookies } from \"react-cookie\";\nimport ServiceCard from \"./page-elements/ServiceCard\";\nimport { addContent, resetSearch, setRedirect, updateDisplay, updateDisplayedService } from \"../actions/displayed-services-actions\";\nconst host = require(\"../host\").host\n\nexport class Homepage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleRedirect = this.handleRedirect.bind(this);\n  }\n\n  handleRedirect(element) {\n    this.props.onSetRedirect(false)\n    this.props.onUpdateDisplayedService(element.target.id)\n  }\n\n  handleClick() {\n    let parsedTags = [];\n    for(let i in this.props.displayedServices.filters.tags) {\n        if (this.props.displayedServices.filters.tags[i] == true) {\n          parsedTags.push(i);\n        }\n    }\n    let datefrom = \"\";\n    let dateto = \"\";\n\n    if(this.props.displayedServices.filters.datefrom != \"\") {\n      datefrom = new Date(this.props.displayedServices.filters.datefrom).getTime()\n    }\n\n    if(this.props.displayedServices.filters.dateto != \"\") {\n      dateto = new Date(this.props.displayedServices.filters.dateto).getTime()\n    }\n\n    fetch(`${host}/services/search`, {\n      method: 'POST',\n      headers: { \n        'Accept': '*/*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        search: this.props.displayedServices.search,\n        page: this.props.displayedServices.page,\n        ipp: this.props.displayedServices.ipp,\n        datefrom: datefrom,\n        dateto: dateto,\n        pricefrom: this.props.displayedServices.filters.paymentfrom,\n        priceto: this.props.displayedServices.filters.paymentto,\n        priceType: this.props.displayedServices.filters.priceType,\n        tags: [...parsedTags]  \n      })\n    }).then(response => response.json()).then((e) => {\n        if (e.type === \"res\") {\n          this.props.onAddContent([...e.value])\n        } else {\n          alert(e.value)\n        }\n\n      }).catch((e)=> {\n        console.log(e);\n      });\n  }\n\n  //componentDidUpdate() {\n  //  this.props.onSetRedirect(false)\n  //}\n  componentDidMount() {\n    this.props.onSetRedirect(false)\n  }\n\n  render() {\n    let items = [];\n\n    for (let i = 0; i < this.props.displayedServices.services.length; i++) {\n      items.push(\n        <div class=\"col l3 m6 s12\" onClick={this.handleRedirect} id = {String(this.props.displayedServices.services[i]._id)}>\n          <Link to=\"/service\">\n            <ServiceCard  elementInfo = {{...this.props.displayedServices.services[i]}} id = {String(this.props.displayedServices.services[i]._id)} key = {String(this.props.displayedServices.services[i]._id)} />\n          </Link>\n          \n        </div>\n      )\n    }\n    let contentloader = <br/>\n    if(this.props.displayedServices.services.length%this.props.displayedServices.ipp == 0 && this.props.displayedServices.services.length) {\n      contentloader = \n      <div class=\"center\" style={{borderColor: \"lightgray\", borderStyle: \"solid\", borderWidth: \"thin\"}} onClick={this.handleClick}>\n        <p>Cargar más anuncios...</p>\n      </div>\n    }\n    return (\n      <Main>\n        <div class=\"row\">\n          {items}\n        </div>\n        {contentloader}  \n      </Main>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return ({\n    displayedServices: state.displayedServices\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onAddContent: addContent,\n    onResetSearch: resetSearch,\n    onUpdateDisplayedService: updateDisplayedService,\n    onUpdateDisplay: updateDisplay,\n    onSetRedirect: setRedirect\n  }, dispatch); \n}\n\nexport default withCookies(connect(mapStateToProps, mapActionsToProps)(Homepage));\n","export const UPDATE_DM_MESSAGE = 'displayedMessages:updateNewMessage';\nexport const RESET_DM_MESSAGE = 'displayedMessages:resetNewMessage';\nexport const SET_DM_RECEIVED = 'displayedMessages:setReceivedMessages';\nexport const SET_DM_SENT = 'displayedMessages:setSentMessages';\nexport const SET_DM_EDITOR = 'displayedMessages:setDisplayEditor';\nexport const RESET_DM_ALL = 'displayedMessages:resetAllMessages';\nexport const SET_DM_INDEX = 'displayedMessages:setInteractionIndex';\nexport const SET_DM_DISPLAYED = 'displayedMessages:setDisplayedMessage';\n\nexport function updateNewMessage(event) {\n  return ({\n    type: UPDATE_DM_MESSAGE,\n    payload: {\n      name: event.target.name,\n      value: event.target.value\n    }\n  });\n}\n\nexport function resetNewMessage(event) {\n  return ({\n    type: RESET_DM_MESSAGE,\n    payload: { }\n  });\n}\n\nexport function setReceivedMessages(event) {\n  return ({\n    type: SET_DM_RECEIVED,\n    payload: [...event]\n  });\n}\n\nexport function setSentMessages(event) {\n  return ({\n    type: SET_DM_SENT,\n    payload: [...event]\n  });\n}\n\nexport function setDisplayEditor(bool) {\n  return ({\n    type: SET_DM_EDITOR,\n    payload: bool\n  });\n}\n\nexport function resetAllMessages() {\n  return ({\n    type: SET_DM_EDITOR,\n    payload: {}\n  });\n}\n\nexport function setInteractionIndex(code) {\n  return ({\n    type: SET_DM_INDEX,\n    payload: code\n  });\n}\n\nexport function setDisplayedMessage(code) {\n  return ({\n    type: SET_DM_DISPLAYED,\n    payload: code\n  });\n}","export const UPDATE_DT_INPUT = 'displayedTransactions:updateInput';\nexport const RESET_DT_INPUT = 'displayedTransactions:resetInput';\nexport const SET_DT_MESSAGE = 'displayedTransactions:setServerMessage';\nexport const SET_DT_TRANSACTIONS = 'displayedTransactions:setTransactions';\nexport const RESET_DT_ALL = 'displayedTransactions:resetAllTransactions';\nexport const SET_DT_INDEX = 'displayedTransactions:setTransactionsInteractionIndex';\n\nexport function updateInput(event) {\n  return ({\n    type: UPDATE_DT_INPUT,\n    payload: {\n      name: event.target.name,\n      value: event.target.value\n    }\n  });\n}\n\nexport function resetInput(event) {\n  return ({\n    type: RESET_DT_INPUT,\n    payload: { }\n  });\n}\n\nexport function setServerMessage(event) {\n  return ({\n    type: SET_DT_MESSAGE,\n    payload: [...event]\n  });\n}\n\nexport function setTransactions(event) {\n  return ({\n    type: SET_DT_TRANSACTIONS,\n    payload: [...event]\n  });\n}\n\nexport function resetAllTransactions() {\n  return ({\n    type: RESET_DT_ALL,\n    payload: { }\n  });\n}\n\nexport function setTransactionsInteractionIndex(code) {\n  return ({\n    type: SET_DT_INDEX,\n    payload: code\n  });\n}","import React from \"react\";\nimport Main from \"./page-elements/Main\";\nimport { Link, NavLink, Navigate } from \"react-router-dom\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { withCookies } from \"react-cookie\";\nimport {resetSearch, setPFP, setRedirect, updateDisplayedService } from \"../actions/displayed-services-actions\";\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\nimport { resetProfile, setProfile } from \"../actions/displayed-profile-actions\";\nimport { logOut } from \"../actions/user-actions\";\nimport { setDisplayEditor, updateNewMessage } from \"../actions/displayed-messages-actions\";\nimport { resetInput, setServerMessage, updateInput } from \"../actions/displayed-transactions-actions\";\nconst host = require(\"../host\").host\nconst baseimg = \"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\";\n\nexport class Service extends React.Component {\n  constructor(props) {\n    super(props);\n    this.modals = undefined;\n    this.handleContact = this.handleContact.bind(this)\n    this.updateTransaction = this.updateTransaction.bind(this)\n    this.startTransaction = this.startTransaction.bind(this)\n  }\n\n  updateTransaction(e) {\n    this.props.onUpdateTransactionInput(e)\n  }\n\n  startTransaction() {\n    if(this.props.auth.authToken) {\n      let requestOptions = {\n        method: 'POST',\n        headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${this.props.auth.authToken}`\n        },\n        body: JSON.stringify({\n          id: this.props.displayedServices.displayed._id,\n          notes: this.props.displayedTransactions.inputFields.aplicantNotes\n        })\n      }\n\n      let that = this\n      fetch(`${host}/transactions`, requestOptions).then(response => response.json()).then((firstRes) => {         \n        if(firstRes.type == \"res\") {\n          that.props.onSetServerMessage(\"La transacción se ha iniciado de forma correcta. El propietario del servicio ha sido notificado.\")\n        } else {\n          that.props.onSetServerMessage(\"Error al publicar el servicio: \" + firstRes.value)\n        }\n      }).catch((err)=> {\n          console.log(err);\n          that.props.onLogOut();\n      });\n    }\n  }\n\n  handleContact() {\n    this.props.onUpdateNewMessage({\n      target: {\n        name: \"to\",\n        value: this.props.displayedServices.displayed.postedBy\n      }\n    })\n    this.props.onUpdateNewMessage({\n      target: {\n        name: \"subject\",\n        value: \"Consulta sobre el servicio \" + this.props.displayedServices.displayed.serviceName\n      }\n      \n    })\n    this.props.onUpdateNewMessage({\n      target: {\n        name: \"message\",\n        value: \"¡Saludos! Quisiera consultarle acerca de...\"\n      }\n      \n    })\n    this.props.onSetDisplayEditor(true)\n  }\n\n  componentDidMount() {\n    var elems = document.querySelectorAll('.slider');\n    var instances = M.Slider.init(elems, {height: 230});\n    var elems2 = document.querySelectorAll('.materialboxed');\n    var instances2 = M.Materialbox.init(elems2, {});\n    var elems3 = document.querySelectorAll('.modal')\n    this.modals = M.Modal.init(elems3, {});\n    //this.props.onResetProfile();\n    let that = this\n    setTimeout(() => {\n      if(that.props.displayedServices.displayed.serviceName == undefined) {\n        that.props.onSetRedirect(true);\n      }else {\n        let requestOptions = {\n            method: 'GET',\n            headers: { \n                'Accept': '*/*'\n            }\n        }\n          fetch(`${host}/profile?username=${that.props.displayedServices.displayed.postedBy}`, requestOptions).then(response => response.json()).then((e) => {         \n              if(e.type == \"res\") {\n                that.props.onSetPFP(e.value.icon);\n                that.props.onSetProfile(e.value);\n              } else {\n                console.log(JSON.stringify(e))\n              }\n          }).catch((e)=> {\n              console.log(e);\n              that.props.onLogOut();\n          });\n      }\n    }, 400)\n  }\n\n  render() {\n    let dispimages = [];\n    let dispvideos = [];\n    if(this.props.displayedServices.displayed.images != \"\" && this.props.displayedServices.displayed.images != undefined){\n      dispimages = this.props.displayedServices.displayed.images.split(\",\");\n    }\n    if(this.props.displayedServices.displayed.videos != \"\" && this.props.displayedServices.displayed.videos != undefined){\n      dispvideos = this.props.displayedServices.displayed.videos.split(\",\");\n    }\n    \n    \n    if(this.props.displayedServices.homeredirect == true) {\n        return(<Navigate to=\"/\" />)\n    } else {\n      let carousel = [];\n      if(dispimages.length == 0) {\n          carousel.push(<li>\n              <img class=\"materialboxed\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAssAAAHfCAMAAACReWX5AAAA51BMVEVpXM3TwL6wn8Pl0byHeMmbi8a5qMKHfdH/6rillcXBsMF7bct9b8pqXc365bn+6bjRv75xZMxvYszt2brItsCSg8fSwL6gkMV/ccp7bcrLuL+qmcTZxr13acvn1Lt1aMuGeMn24rmDdcnFs8D04LmUhcejk8Xj0LyzosOhkcXjz7ziz7xxY8yyocOxoMOBcsqunsPArsGuncOPgMjRvr9+b8rv2rqNf8iejsaMfcj757iKe8jLub9rXs3cyb3Jt7+qmsR5bMt5a8upmMT65rmIesl2aMt0Z8uGd8m1pMKXh8f14bmWhsfTbQknAAADrElEQVR42uzc106VURSF0a1IXBaKYG+AXWPvxth7ef/nkXNU5AKM5cjPno7xDF+yd+bFagAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMHTpdQ5g9eKDBJN2brYEcbDBJJ2oosw0maWcNpoGWYbOWd28xLaNl0DLptEwKLZNCy6TQMim0TAotk0LLpNAyKbRMCi2TQsuk0DIptEwKLZNCy6TQMim0TAotk0LL9OjtrpHlA1qmbwt366vXr7RM167Xd3M3tEzPDteay1qmZztqzWMt07MfLd/yX6Zr45YXp6en39sx6Nu45Sn7Mv3TMim0TAotk0LLpNAyKbRMCi2TQsuk0DIptEwKLZNCy6TQMim0TAotk0LLpNAyKbRMCi2TQst06NSRPd88fKdlOvZopdace6Nl+jVV65zUMv2aq3Xua5l+1XrHtUy/ap2nS1qmXzXybP/IC5scPauRvfZl+qdlUmiZFFomhZZJoWVSaJkUWiaFlkmhZVJomRRaJoWWSaFlUmiZFFomxe+1PAQto2X+L1W/3vLNGspcg0m2/LmGMtVgki3PHK9hrNxpMLGWxx7sGcKRUw3+uGUPO73RMim0TAotk0LLpNAyKbRMiu3U8szy0ZkG/be8dKXq5NUG3bd8tlZ9aNB9yxdr1Y4G3bc8pWW0DFomh5ZJoWVSaJkUWiaFlkmhZVJomRQ/aXlxemstapl/0fIQtIyWYbOWD9cGtMy2VrVRy5dqKNcaTLLlhfkaxvxCg4m1PHZs1xCONfjLlqF7WiaFlkmhZVJomRRaJoWWSTFMy2eef3Q5joSWL8xVzYuZ/lt+8qlWnW/Qe8sva+R2g95b3lcjOxtoGbRMLi2TQsuk0DIptEwKLX9pl45NAISBAAB+JY9FQFAQBBdwA3H/ucQB7KKBcDfD0QuX6YXL9CIfx/Cr0WU+kC24jMvwqmQrW0BNVzZyrgE1TXPJFvYlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIiIuAHhdnvCvNaURQAAAABJRU5ErkJggg==\" />\n            </li>)\n      } else {\n          for(let i in dispimages) {\n              carousel.push(<li>\n                    <img class=\"materialboxed\" src={\"data:image/png;base64,\" + dispimages[i]} />\n                </li>)\n          }\n      }\n\n      if((dispvideos.length > 0)) {\n          for(let str in dispvideos) {\n              let aux = decodeURIComponent(escape(window.atob( dispvideos[str] )))\n              carousel.push(<li>\n                  <iframe src={aux} ></iframe>\n                </li>)\n          }\n      }\n\n      let redirectionContent = <div class=\"col s12 l6\"><NavLink to=\"/signin\"><a style={{marginTop: \"32px\", width: \"100%\", fontSize: \"12px\", padding: \"2px\"}} class=\"waves-effect waves-light btn\">Identifícate&nbsp;para&nbsp;solicitar&nbsp;el&nbsp;servicio</a></NavLink></div>\n      if(this.props.currentUser.username != \"\") {\n        if(this.props.currentUser.username != this.props.displayedServices.displayed.postedBy) {\n          redirectionContent = <div>\n            <div class=\"col s6 l3 center\">\n                <NavLink to=\"/messagesPage\" ><a style={{marginTop: \"32px\", width: \"100%\", fontSize: \"12px\", padding: \"2px\"}} onClick={this.handleContact} class=\"waves-effect waves-light btn\">Enviar&nbsp;mensaje</a></NavLink>\n              </div>\n              <div class=\"col s6 l3 center\">\n                <a style={{marginTop: \"32px\" , width: \"100%\", fontSize: \"12px\", padding: \"2px\"}} class=\"waves-effect waves-light btn modal-trigger\" data-target=\"transactionModal\" onClick={this.props.onResetTransactionInput}>Solicitar&nbsp;servicio</a>\n              </div>\n            </div>\n        } else {\n          redirectionContent = <div class=\"col s12 l6 center-align\"><p class=\"center-align\">Este servicio es tuyo</p></div>\n        }\n      }\n\n      let tags = []\n      for(let i in this.props.displayedServices.displayed.tags) {\n        tags.push(\n          <div class=\"chip\">\n            {this.props.displayedServices.displayed.tags[i]}\n          </div>\n        )\n      }\n\n      let displayedPFP = \"data:image/png;base64,\" +  baseimg;\n      if(this.props.displayedServices.displayedIcon != \"\"){\n        displayedPFP = \"data:image/png;base64,\" + this.props.displayedServices.displayedIcon\n      }\n      return(\n        <Main>\n            <div class=\"container\">\n                <br />\n                <h1 class=\"center\" style={{fontSize: \"30px\"}}>{this.props.displayedServices.displayed.serviceName}</h1>\n                <div class=\"slider\" style={{height: \"250px\"}}>\n                    <ul class=\"slides\" style={{height: \"250px\"}}>\n                    {carousel}\n                    </ul>\n                </div>\n\n                <p class=\"right-align\" style={{fontSize: \"35px\"}}>{this.props.displayedServices.displayed.price}€ {this.props.displayedServices.displayed.priceType==\"Total\"?\"\":\"/ Hora\"}</p>\n          \n                <div style={{borderColor: \"lightgray\", backgroundColor: \"lightgray\", borderStyle: \"solid\", borderWidth: \"thin\"}}/>\n                <div class=\"row\">\n                  <ul class=\"collection col s12 l6\" style={{margin: \"0px\", border: \"none\"}}>\n                    <li class=\"collection-item avatar\" style={{minHeight: \"auto\"}}>\n                      <img src={displayedPFP} alt=\"\" class=\"circle\"/>\n                      <span class=\"title\"><NavLink to=\"/profilePage\">{this.props.displayedServices.displayed.postedBy}</NavLink></span>\n                      <p>Publicado en: {new Date(this.props.displayedServices.displayed.postedAt).toLocaleDateString() + \" - \" + new Date(this.props.displayedServices.displayed.postedAt).toLocaleTimeString()}</p>\n                    </li>\n                  </ul>\n                  {redirectionContent}\n                </div>\n\n                <div style={{borderColor: \"lightgray\", backgroundColor: \"lightgray\", borderStyle: \"solid\", borderWidth: \"thin\"}}/>\n                <p style={{fontSize: \"20px\"}}>Descripción del servicio</p>\n                <p class=\"flow-text\" style={{fontSize: \"18px\"}}>{this.props.displayedServices.displayed.serviceDesc}</p>\n                <br/>\n                <div style={{borderColor: \"lightgray\", backgroundColor: \"lightgray\", borderStyle: \"solid\", borderWidth: \"thin\", marginBottom: \"10px\"}}/>\n                {tags}\n            </div>\n            <br/>\n\n            <div id=\"transactionModal\" class=\"modal\">\n              <div class=\"modal-content\">\n                <h4 class=\"center-align\">Solicitar servicio</h4>\n                <p class=\"\">Si desea añadir alguna nota para el vendedor, puede hacerlo en el siguiente campo. Recuerde que en caso de duda puede contactar con el vendedor mediante mensaje directo.</p>\n                <textarea id=\"aplicantNotes\" name=\"aplicantNotes\" placeholder=\"Notas y aclaraciones para el vendedor (Opcional)...\" onChange={this.updateTransaction} class=\"materialize-textarea\"></textarea>\n                <label for=\"aplicantNotes\">Notas</label>\n              </div>\n              <div class=\"modal-footer\">\n                <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" data-target=\"statusModal\" onClick={this.startTransaction}>Confirmar</a>\n                <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">Cancelar</a>\n              </div>\n            </div>\n\n            <div id=\"statusModal\" class=\"modal\">\n              <div class=\"modal-content\">\n                <h4 class=\"center-align\">Solicitar servicio</h4>\n                <p class=\"\">{this.props.displayedTransactions.responseMsg}</p>\n              </div>\n              <div class=\"modal-footer\">\n                <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">Aceptar</a>\n              </div>\n            </div>\n        </Main>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return ({\n    displayedServices: state.displayedServices,\n    currentUser: state.currentUser,\n    auth: state.auth,\n    displayedTransactions: state.displayedTransactions\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onResetSearch: resetSearch,\n    onUpdateDisplayedService: updateDisplayedService,\n    onSetPFP: setPFP,\n    onSetProfile: setProfile,\n    onResetProfile: resetProfile,\n    onLogOut: logOut,\n    onSetRedirect: setRedirect,\n    onUpdateNewMessage: updateNewMessage,\n    onSetDisplayEditor: setDisplayEditor,\n    onUpdateTransactionInput: updateInput,\n    onSetServerMessage : setServerMessage,\n    onResetTransactionInput : resetInput\n  }, dispatch); \n}\n\nexport default withCookies(connect(mapStateToProps, mapActionsToProps)(Service));","export const UPDATE_SP_FORM = 'displayedServices:updateServiceForm';\nexport const RESET_SP_FORM = 'displayedServices:resetServiceForm';\nexport const ADD_SP_IMAGE = 'displayedServices:addImage';\nexport const RESET_SP_IMAGE = 'displayedServices:resetImage';\nexport const CHANGE_TAG = 'displayedServices:changeTag';\n\nexport function updateServiceForm(event) {\n  return ({\n    type: UPDATE_SP_FORM,\n    payload: {\n      name: event.target.name,\n      value: event.target.value\n    }\n  });\n}\n\nexport function resetServiceForm() {\n  return ({\n    type: RESET_SP_FORM,\n    payload: { }\n  });\n}\n\nexport function addImage(event) {\n    return ({\n      type: ADD_SP_IMAGE,\n      payload: {\n        img: [...event]\n      }\n    });\n  }\n  \n  export function resetImage() {\n    return ({\n      type: RESET_SP_IMAGE,\n      payload: { }\n    });\n  }\n\n  export function changeTag(event) {\n    return ({\n      type: CHANGE_TAG,\n      payload: {\n        name: event.target.value,\n        value: event.target.checked\n      }\n    })\n  }","import React from \"react\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { logOut } from '../../actions/user-actions'\nimport { withCookies } from \"react-cookie\";\nimport { setToken } from \"../../actions/auth-actions\";\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\nimport { addImage, changeTag, resetImage, resetServiceForm, updateServiceForm } from \"../../actions/service-post-actions\";\nimport { Link } from \"react-router-dom\";\nconst host = require(\"../../host\").host\n\nexport class ServiceForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.instances = undefined;\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n    this.handleImageUpload = this.handleImageUpload.bind(this);\n    this.attachImages = this.attachImages.bind(this)\n  }\n\n  attachImages(index, files, results) {\n    let that = this;\n    return new Promise((res, rej) => {\n        if(index >= files.length) {\n            res(results);\n        } else {\n            if (!/image/.test(files[index].type)) {\n                console.log(\"Formato no válido: \" + files[index].type);\n                that.attachImages(index+1, files, results).then((val) => res(val)).catch((err) => {rej(err)})\n            } else {\n                var reader = new FileReader();\n                reader.readAsDataURL(files[index]);\n                reader.onloadend = function() {\n                    let img = reader.result.split(\",\")[1];\n                    results.push(img)\n                    that.attachImages(index+1, files, results).then((val) => res(val)).catch((err) => {rej(err)})\n                };\n            }\n        }\n    })\n  }\n\n  handleImageUpload(e) {\n    let that = this;\n    this.props.onResetImage();\n    let files = [];\n    files = [...e.target.files];\n    console.log(files)\n    let results = []\n    this.attachImages(0, files, results).then((values) => {\n        this.props.onAddImage(values);\n    }).catch((err) => console.log(err))\n    /*for (let i = 0; i < files.length; i++){\n        if (!/image/.test(files[i].type)) {\n            console.log(\"Formato no válido: \" + files[i].type);\n        } else {\n            var reader = new FileReader();\n            reader.readAsDataURL(files[i]);\n            reader.onloadend = function() {\n                let img = reader.result.split(\",\")[1];\n                that.props.onAddImage(img);\n            };\n        }\n    }*/\n  }\n\n  handleKeyPress(e) {\n    if(e.key === \"Enter\") {\n      this.handleClick();\n    }\n  }\n\n  handleChange(e) {\n    if(e.target.name != \"tags\") {\n        this.props.onUpdateServiceForm(e);\n    } else {\n        this.props.onChangeTag(e)\n    }\n  }\n\n  handleClick() {\n    if(this.props.servicePost.serviceName == \"\" || this.props.servicePost.serviceDescription == \"\" || this.props.servicePost.price == \"\"){\n        this.instances[1].open()\n        return\n    }\n\n    let parsedTags = [];\n    for(let i in this.props.servicePost.tags) {\n        if (this.props.servicePost.tags[i] == true) {\n            parsedTags.push(i);\n        }\n    }\n    \n    let requestOptions = {\n        method: 'POST',\n        headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${this.props.auth.authToken}`\n        },\n        body: JSON.stringify({\n            serviceName: this.props.servicePost.serviceName,\n            serviceDesc: this.props.servicePost.serviceDescription,\n            price: this.props.servicePost.price,\n            priceType: this.props.servicePost.priceType,\n            tags: parsedTags\n        })\n    }\n\n    fetch(`${host}/services`, requestOptions).then(response => response.json()).then((e) => {         \n        if(e.type == \"res\" && e.value == \"OK\") {\n            for(let i in this.props.servicePost.images) {\n                fetch(`${host}/services/addimg`, {method: 'POST',\n                headers: { \n                    'Accept': '*/*',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${this.props.auth.authToken}`\n                },\n                body: JSON.stringify({\n                    id: e.id,\n                    image: this.props.servicePost.images[i]\n                })}).then(response => response.json()).then(e => {console.log(e)}).catch((e) => console.log(e));\n            }\n            let that = this\n            this.instances[0].open();\n        } else {\n            alert(JSON.stringify(e))\n        }\n    }).catch((e)=> {\n        console.log(e);\n        this.props.onLogOut();\n    });\n  }\n\n  componentDidMount() {\n    this.props.onResetServiceForm();\n    M.updateTextFields();\n    let elems = document.querySelectorAll('.modal');\n    this.instances = M.Modal.init(elems, {});\n  }\n\n  render() {\n    let taglist = [\"Diseño web\",\"Software\",\"Traducción\",\"Trámites legales\",\"Redacción\",\"Correcciones\",\"Composición musical\",\"Ilustración\",\"Modelado 3D\",\"Edición de vídeos\",\"Edición de imágenes\",\"Márketing\",\"Asesoría\",\"Idiomas\",\"Otro\"]\n    let tags = []\n    for(let i in taglist){\n        tags.push(\n            <label class=\"input-field col s12 m12 l4\">\n              <input type=\"checkbox\" name=\"tags\" value={taglist[i]} class=\"filled-in\" onChange={this.handleChange} />\n              <span>{taglist[i]}</span>\n            </label>\n          )\n    }\n    return (\n    <div class=\"container\">\n        <h1 class=\"center\" style={{fontSize: \"30px\"}}>Publicar servicio</h1>\n        <div class=\"row\">\n            <form class=\"col s12\">\n                <div class=\"row\">\n                <div class=\"input-field col s12\">\n                    <input placeholder=\"Introduzca su usuario\" id=\"serviceName\" type=\"text\" name=\"serviceName\" class=\"\" onChange={this.handleChange}/>\n                    <label for=\"serviceName\">Nombre del servicio *</label>\n                </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"input-field col s12\">\n                        <textarea id=\"serviceDescription\" class=\"materialize-textarea\" name=\"serviceDescription\" onChange={this.handleChange}></textarea>\n                        <label for=\"serviceDescription\">Descripción del servicio *</label>\n                    </div>\n                </div>\n                <div class=\"file-field input-field\">\n                    <div class=\"btn\">\n                        <span>File</span>\n                        <input type=\"file\" multiple onChange={this.handleImageUpload} />\n                    </div>\n                    <div class=\"file-path-wrapper\">\n                        <input class=\"file-path validate\" type=\"text\" placeholder=\"Upload one or more files\" />\n                    </div>  \n                </div>\n                <div class=\"row\">\n                    <div class=\"input-field col s12 m6 l6\">\n                        <input placeholder=\"Exacto o estimado\" id=\"price\" type=\"number\" name=\"price\" min=\"0\" class=\"\" onChange={this.handleChange} />\n                        <label for=\"price\">Precio del servicio</label>\n                    </div>\n                    <div class=\"input-field col s12 m6 l6\">\n                        <select class=\"browser-default\" name=\"priceType\" onChange={this.handleChange}>\n                            <option value=\"Total\" selected>Total</option>\n                            <option value=\"Por hora\">Por hora</option>\n                        </select>\n                    </div>\n                </div>\n                <h2 style={{fontSize: \"20px\"}}>Tags</h2>\n                <p style={{fontSize: \"14px\"}} class=\"flow-text\">Puedes incorporar etiquetas a tus servicios para que sean más sencillos de encontrar por parte de los usuarios. Incluir etiquetas no es obligatorio para poder publicar el servicio.</p>\n                {tags}\n            </form>\n            <br/>\n            <div class=\"row\">\n                <a class=\"waves-effect waves-light btn col s12\" onClick={this.handleClick}>Publicar anuncio</a>\n            </div>\n        </div>\n        <div id=\"modal1\" class=\"modal\">\n            <div class=\"center modal-content\">\n                <h4>Anuncio publicado</h4>\n                <p>El anuncio ha sido publicado correctamente</p>\n            </div>\n            <div class=\"modal-footer\">\n                <div class=\"row\">\n                    <Link to=\"/\" onClick={() => {this.instances[0].close()}}><a class=\"waves-effect waves-light btn col s12\">Aceptar</a></Link>\n                </div>\n            </div>\n        </div>\n        <div id=\"errormodal\" class=\"modal\">\n            <div class=\"center modal-content\">\n                <h4>Error al publicar el anuncio</h4>\n                <p>El anuncio debe contener nombre, precio y descripción para poder ser publicado</p>\n            </div>\n            <div class=\"modal-footer\">\n                <div class=\"row\">\n                    <a class=\"waves-effect waves-light btn col s12\" onClick={() => {this.instances[1].close()}}>Aceptar</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return ({\n    currentUser: state.currentUser,\n    signIn: state.signIn,\n    auth: state.auth,\n    servicePost: state.servicePost\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onLogOut: logOut,\n    onSetToken: setToken,\n    onUpdateServiceForm: updateServiceForm,\n    onResetServiceForm: resetServiceForm,\n    onAddImage: addImage,\n    onResetImage: resetImage,\n    onChangeTag: changeTag\n  }, dispatch); \n}\n\nexport default withCookies(connect(mapStateToProps, mapActionsToProps)(ServiceForm));","import React from 'react';\nimport ServiceForm from \"./page-elements/ServiceForm\";\nimport Main from \"./page-elements/Main\";\nimport { Navigate } from 'react-router'\n\nfunction ServiceCreation(props) {\n  if(props.props.username !== \"\" && props.props.redirect == false){\n    return (\n      <div>\n        <Main>\n          <br />\n          <ServiceForm />\n        </Main>\n      </div>\n    );\n  } else {\n    return(<Navigate to=\"/\"/>)\n  }\n}\n\nexport default ServiceCreation;","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport \"../../index.css\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\nimport { resetFilters, updateDisplay, updateFilters, updateFiltersTags, updateSearch } from \"../../actions/displayed-services-actions\";\nconst host = require(\"../../host\").host\n\nexport class AdvancedSearchForm extends React.Component {\n  constructor() {\n    super();\n  \n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleChange(e) {\n    if(e.target.name == \"tags\") {\n      this.props.onUpdateFiltersTags(e);  \n    } else if(e.target.name == \"searchBar\"){\n      this.props.onUpdateSearch(e.target.value);\n    } else {\n      this.props.onUpdateFilters(e);\n    }\n  }\n\n  handleClick() { \n    let searchtext = this.props.displayedServices.search;\n    let parsedTags = [];\n    for(let i in this.props.displayedServices.filters.tags) {\n        if (this.props.displayedServices.filters.tags[i] == true) {\n          parsedTags.push(i);\n        }\n    }\n    let datefrom = \"\";\n    let dateto = \"\";\n    if(this.props.displayedServices.filters.datefrom != \"\") {\n      datefrom = new Date(this.props.displayedServices.filters.datefrom).getTime()\n    }\n\n    if(this.props.displayedServices.filters.dateto != \"\") {\n      dateto = new Date(this.props.displayedServices.filters.dateto).getTime()\n    }\n\n    let queryBody = {\n        search: searchtext,\n        page: \"0\",\n        ipp: this.props.displayedServices.ipp,\n        datefrom: datefrom,\n        dateto: dateto,\n        pricefrom: this.props.displayedServices.filters.pricefrom,\n        priceto: this.props.displayedServices.filters.priceto,\n        priceType: this.props.displayedServices.filters.priceType,\n        tags: [...parsedTags]\n    }\n\n    fetch(`${host}/services/search`, {\n      method: 'POST',\n      headers: { \n        'Accept': '*/*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({...queryBody})\n    }).then(response => response.json()).then((e) => {\n        if (e.type === \"res\") {\n          this.props.onUpdateDisplay({\n            services: [...e.value],\n            page: 1,\n            search: searchtext,\n            filters: {...this.props.displayedServices.filters}\n          })\n        } else {\n          alert(e.value);\n        }\n\n      }).catch((e)=> {\n        console.log(e);\n    });\n  }\n\n  componentDidMount() {\n    this.props.onResetFilters();\n    M.updateTextFields();\n    this.props.onUpdateSearch(\"\")\n  }\n\n  render() {\n    let taglist = [\"Diseño web\",\"Software\",\"Traducción\",\"Trámites legales\",\"Redacción\",\"Correcciones\",\"Composición musical\",\"Ilustración\",\"Modelado 3D\",\"Edición de vídeos\",\"Edición de imágenes\",\"Márketing\",\"Asesoría\",\"Idiomas\",\"Otro\"]\n    let tags = []\n    for(let i in taglist){\n        tags.push(\n            <label class=\"input-field col s12 m12 l4\">\n              <input type=\"checkbox\" name=\"tags\" value={taglist[i]} class=\"filled-in\" onChange={this.handleChange} />\n              <span>{taglist[i]}</span>\n            </label>\n          )\n    }\n\n    let content = \n    <div class=\"container\">\n        <h1 class=\"center\" style={{fontSize: \"30px\"}}>Búsqueda avanzada</h1>\n        <div class=\"row\">\n            <form class=\"col s12\">\n                <div class=\"row\">\n                  <div class=\"input-field col s12\">\n                      \n                      <input placeholder=\"Busqueda...\" type=\"text\" name=\"searchBar\" class=\"\" onChange={this.handleChange}/>\n                  </div>\n                </div>\n                <br/><br/>\n                \n                <div class=\"row\">\n                  <div class=\"input-field col s12 m6 l6\">             \n                      <input id=\"datefrom\" placeholder=\"Desde...\" type=\"datetime-local\" name=\"datefrom\" onChange={this.handleChange} />\n                      <label class=\"active\" for=\"datefrom\">Fecha desde: </label>\n                  </div>\n                  <div class=\"input-field col s12 m6 l6\">             \n                      <input id=\"dateto\" placeholder=\"Hasta...\" type=\"datetime-local\" name=\"dateto\" onChange={this.handleChange} />\n                      <label class=\"active\" for=\"dateto\">Fecha hasta: </label>\n                  </div>\n                </div>\n                <br/><br/>\n                <div class=\"row\">\n                  <div class=\"input-field col s12 m6 l6\">             \n                      <input id=\"pricefrom\" placeholder=\"Desde...\" type=\"number\" min=\"0\" name=\"pricefrom\" onChange={this.handleChange} />\n                      <label for=\"pricefrom\">Precio desde: </label>\n                  </div>\n                  <div class=\"input-field col s12 m6 l6\">             \n                      <input id=\"priceto\" placeholder=\"Hasta...\" type=\"number\" min=\"0\" name=\"priceto\" onChange={this.handleChange} />\n                      <label for=\"priceto\">Precio hasta: </label>\n                  </div>\n                </div>\n                <br/><br/>\n\n                <div class=\"row\">\n                  <div class=\"input-field col s12\">\n                      <select class=\"browser-default\" name=\"priceType\" onChange={this.handleChange}>\n                          <option value=\"Cualquiera\" selected>Cualquiera</option>\n                          <option value=\"Total\">Total</option>\n                          <option value=\"Por hora\">Por hora</option>\n                      </select>\n                  </div>\n                </div>\n                <h2 style={{fontSize: \"20px\"}}>Tags</h2>\n                {tags}\n            </form>\n            <br/>\n            <div class=\"row\">\n              <NavLink to=\"/\"><a class=\"waves-effect waves-light btn col s12\" onClick={this.handleClick}>Buscar</a></NavLink>\n            </div>\n            <br/>\n        </div>\n\n    </div>\n\n    return (\n      content\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return ({  \n    displayedServices: state.displayedServices\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onUpdateFilters: updateFilters,\n    onUpdateFiltersTags: updateFiltersTags,\n    onUpdateSearch: updateSearch,\n    onResetFilters: resetFilters,\n    onUpdateDisplay: updateDisplay\n  }, dispatch); \n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(AdvancedSearchForm);","import React from 'react';\nimport AdvancedSearchForm from \"./page-elements/AdvancedSearchForm\";\nimport Main from \"./page-elements/Main\";\nimport { Navigate } from 'react-router'\n\nfunction AdvancedSearch(props) {\n  if(props.props.redirect == false){\n    return (\n      <div>\n        <Main>\n          <br />\n          <AdvancedSearchForm />\n        </Main>\n      </div>\n    );\n  } else {\n    return(<Navigate to=\"/\"/>)\n  }\n}\n\nexport default AdvancedSearch;","import React from \"react\";\nimport Main from \"./page-elements/Main\";\nimport { Link, NavLink, Navigate } from \"react-router-dom\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { withCookies } from \"react-cookie\";\nimport { setDisplayedService, setRedirect, updateDisplayedService } from \"../actions/displayed-services-actions\";\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\nimport { setProfile } from \"../actions/displayed-profile-actions\";\nimport { setUser } from \"../actions/user-actions\";\nconst host = require(\"../host\").host\n\nfunction bilinealScale(modCtx) {\n  let scaleX = 250/modCtx.width;\n  let scaleY = 250/modCtx.height;\n  let newX = Math.trunc(modCtx.width * Number(scaleX));\n  let newY = Math.trunc(modCtx.height * Number(scaleY));\n  let modImgData = modCtx.getImageData(0, 0, modCtx.width, modCtx.height);\n\n  let result = new ImageData(newX, newY);\n  let currentPosition = 0;\n\n\n  for (let i = 0; i < newY; i++) {\n      for (let j = 0; j < newX; j++) {\n          currentPosition = (i * newX + j) * 4;\n          let X = Math.trunc(j * (1 / scaleX));\n          let Y = Math.trunc(i * (1 / scaleY));\n          let X1 = X+1;\n          let Y1 = Y+1;\n          let p = (j * (1 / scaleX)) - X;\n          let q = (i * (1 / scaleY)) - Y;\n          let Ar = modImgData.data[((Y1 * modImgData.width + X)*4)];\n          let Br = modImgData.data[((Y1 * modImgData.width + X1)*4)];\n          let Cr = modImgData.data[((Y * modImgData.width + X)*4)];\n          let Dr = modImgData.data[((Y * modImgData.width + X1)*4)];\n          let Ag = modImgData.data[((Y1 * modImgData.width + X)*4)+1];\n          let Bg = modImgData.data[((Y1 * modImgData.width + X1)*4)+1];\n          let Cg = modImgData.data[((Y * modImgData.width + X)*4)+1];\n          let Dg = modImgData.data[((Y * modImgData.width + X1)*4)+1];\n          let Ab = modImgData.data[((Y1 * modImgData.width + X)*4)+2];\n          let Bb = modImgData.data[((Y1 * modImgData.width + X1)*4)+2];\n          let Cb = modImgData.data[((Y * modImgData.width + X)*4)+2];\n          let Db = modImgData.data[((Y * modImgData.width + X1)*4)+2];\n          result.data[currentPosition] = Cr + ((Dr-Cr) * p) + ((Ar-Cr) * q) + ((Br+Cr-Ar-Dr)*p*q);\n          result.data[currentPosition + 1] = Cg + ((Dg-Cg) * p) + ((Ag-Cg) * q) + ((Bg+Cg-Ag-Dg)*p*q);\n          result.data[currentPosition + 2] = Cb + ((Db-Cb) * p) + ((Ab-Cb) * q) + ((Bb+Cb-Ab-Db)*p*q);\n          result.data[currentPosition + 3] = 255;\n      }\n  }\n  return result;\n}\n\nexport class Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.modals = undefined\n    this.handleRedirect = this.handleRedirect.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleImageUpload = this.handleImageUpload.bind(this);\n    this.handleUpdate = this.handleUpdate.bind(this);\n  }\n  handleRedirect(element) {\n    this.props.onSetRedirect(false)\n    for(let i in this.props.displayedProfile.userServices) {\n      console.log(element.target.id)\n      if(element.target.id == this.props.displayedProfile.userServices[i]._id) {  \n        this.props.onSetDisplayedService(this.props.displayedProfile.userServices[i])\n      }\n    }  \n  }\n\n  handleImageUpload(e) {\n    console.log(\"Image upload\")\n    let that = this;\n    let files = [];\n\n    let aux = {...this.props.displayedProfile};\n\n    files = [...e.target.files];\n\n    if (!/image/.test(files[0].type)) {\n        console.log(\"Formato no válido: \" + files[0].type);\n    } else {\n        var reader = new FileReader();\n        reader.readAsDataURL(files[0]);\n        reader.onloadend = function() {\n          let img = new Image();\n          img.src = reader.result;\n          img.onload = function() {\n            let canvas = document.createElement(\"canvas\");\n            canvas.width = this.width;\n            canvas.height = this.height;\n            let ctx = canvas.getContext('2d');\n            ctx.width = this.width;\n            ctx.height = this.height;\n            ctx.drawImage(this, 0, 0);\n            let imgdata = bilinealScale(ctx);\n            canvas.width = 250;\n            canvas.height = 250;\n            ctx.putImageData(imgdata, 0, 0);\n            let newimg = canvas.toDataURL();\n            aux.newIcon = newimg.split(\",\")[1];\n            that.props.onSetProfile(aux);\n          }\n        };\n    }\n  }\n\n  handleChange(e) {\n    let aux = {...this.props.displayedProfile};\n    aux.newDescription = e.target.value\n    this.props.onSetProfile(aux)\n  }\n\n  handleUpdate() {\n    let aux = {}\n    if(this.props.displayedProfile.newIcon) {\n      aux.icon = this.props.displayedProfile.newIcon\n    }\n    if(this.props.displayedProfile.newDescription) {\n      aux.description = this.props.displayedProfile.newDescription\n    }\n\n    let requestOptions = {\n      method: 'POST',\n      headers: { \n          'Accept': '*/*',\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this.props.auth.authToken}`\n      },\n      body: JSON.stringify(aux)\n    }\n\n    let that = this;\n    fetch(`${host}/profile`, requestOptions).then(response => response.json()).then((e) => {         \n      if(e.type == \"res\" && e.value == \"OK\") {\n        let newState = that.props.displayedProfile\n        if(aux.icon){\n          let user = that.props.currentUser\n          user.icon = aux.icon\n          newState.icon = aux.icon\n          that.props.onSetUser(user)\n        }\n        if(aux.description) {\n          newState.description = aux.description\n        }\n        newState.newIcon = undefined\n        newState.newDescription = undefined\n        that.props.onSetProfile(newState)\n      } else {\n        console.log(JSON.stringify(e))\n      }\n    }).catch((e)=> {\n        console.log(e);\n        that.props.onLogOut();\n    });\n  }\n\n\n  componentDidMount() {\n    let elems = document.querySelectorAll('.modal');\n    this.modals = M.Modal.init(elems, {});\n    setTimeout(() =>{\n      if(this.props.displayedProfile.username == \"\") {\n        this.props.onSetRedirect(true);\n      }\n    },4000)\n  }\n\n  render() {\n    let serviceList = [];\n\n    let resolution = window.screen.width;\n\n    for(let i in this.props.displayedProfile.userServices) {\n      let previewImg = \"iVBORw0KGgoAAAANSUhEUgAAAssAAAHfCAMAAACReWX5AAAA51BMVEVpXM3TwL6wn8Pl0byHeMmbi8a5qMKHfdH/6rillcXBsMF7bct9b8pqXc365bn+6bjRv75xZMxvYszt2brItsCSg8fSwL6gkMV/ccp7bcrLuL+qmcTZxr13acvn1Lt1aMuGeMn24rmDdcnFs8D04LmUhcejk8Xj0LyzosOhkcXjz7ziz7xxY8yyocOxoMOBcsqunsPArsGuncOPgMjRvr9+b8rv2rqNf8iejsaMfcj757iKe8jLub9rXs3cyb3Jt7+qmsR5bMt5a8upmMT65rmIesl2aMt0Z8uGd8m1pMKXh8f14bmWhsfTbQknAAADrElEQVR42uzc106VURSF0a1IXBaKYG+AXWPvxth7ef/nkXNU5AKM5cjPno7xDF+yd+bFagAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMHTpdQ5g9eKDBJN2brYEcbDBJJ2oosw0maWcNpoGWYbOWd28xLaNl0DLptEwKLZNCy6TQMim0TAotk0LLpNAyKbRMCi2TQsuk0DIptEwKLZNCy6TQMim0TAotk0LL9OjtrpHlA1qmbwt366vXr7RM167Xd3M3tEzPDteay1qmZztqzWMt07MfLd/yX6Zr45YXp6en39sx6Nu45Sn7Mv3TMim0TAotk0LLpNAyKbRMCi2TQsuk0DIptEwKLZNCy6TQMim0TAotk0LLpNAyKbRMCi2TQst06NSRPd88fKdlOvZopdace6Nl+jVV65zUMv2aq3Xua5l+1XrHtUy/ap2nS1qmXzXybP/IC5scPauRvfZl+qdlUmiZFFomhZZJoWVSaJkUWiaFlkmhZVJomRRaJoWWSaFlUmiZFFomxe+1PAQto2X+L1W/3vLNGspcg0m2/LmGMtVgki3PHK9hrNxpMLGWxx7sGcKRUw3+uGUPO73RMim0TAotk0LLpNAyKbRMiu3U8szy0ZkG/be8dKXq5NUG3bd8tlZ9aNB9yxdr1Y4G3bc8pWW0DFomh5ZJoWVSaJkUWiaFlkmhZVJomRQ/aXlxemstapl/0fIQtIyWYbOWD9cGtMy2VrVRy5dqKNcaTLLlhfkaxvxCg4m1PHZs1xCONfjLlqF7WiaFlkmhZVJomRRaJoWWSTFMy2eef3Q5joSWL8xVzYuZ/lt+8qlWnW/Qe8sva+R2g95b3lcjOxtoGbRMLi2TQsuk0DIptEwKLX9pl45NAISBAAB+JY9FQFAQBBdwA3H/ucQB7KKBcDfD0QuX6YXL9CIfx/Cr0WU+kC24jMvwqmQrW0BNVzZyrgE1TXPJFvYlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIiIuAHhdnvCvNaURQAAAABJRU5ErkJggg==\";\n      if(this.props.displayedProfile.userServices[i].images != \"\"){\n        previewImg = this.props.displayedProfile.userServices[i].images.split(\",\")[0];\n      }\n      let elementid = String(this.props.displayedProfile.userServices[i]._id)\n      serviceList.push(\n        <Link to=\"/service\">\n          <div class=\"row hoverable\" onClick={this.handleRedirect} id={elementid} style={{borderTop: \"thin solid lightgrey\", borderBottom: \"thin solid lightgrey\", marginBottom: \"0\", paddingTop: \"5px\", paddingBottom: \"5px\"}}>\n            \n            <div class=\"col s4\">\n              <div class=\"valign-wrapper\">\n                <img src={\"data:image/png;base64,\" + previewImg} id={elementid} style={{width: \"100%\", height: \"auto\"}} />            \n              </div>\n\n            </div>\n            <div class=\"col s6\">\n              <p class=\"truncate\" style={{fontWeight: \"bold\"}} id={elementid}>{this.props.displayedProfile.userServices[i].serviceName}</p>\n              <p class=\"truncate\" id={elementid}>{this.props.displayedProfile.userServices[i].serviceDesc}</p>\n            </div>\n            <div class=\"col s2\">\n              <p id={elementid}>{this.props.displayedProfile.userServices[i].price}€ {this.props.displayedProfile.userServices[i].priceType==\"Total\"?\"\":\"/Hora\"}</p>\n            </div>  \n            \n          </div>\n        </Link>\n      )\n    }\n    let content = <Navigate to=\"/\"/>\n    let totalScore = 0;\n    if(this.props.displayedProfile.reviewNumber != 0) {\n      totalScore = Number(this.props.displayedProfile.reviewScore)/Number(this.props.displayedProfile.reviewNumber)\n    }\n    if(this.props.displayedServices.homeredirect == false) {\n      content = <Main>\n        <br/>\n        <div class=\"row\" style={{marginTop: \"20px\", padding:\"20px\"}}>\n          <div class=\"col s12 m7 l7\" style={resolution>600?{borderRight: \"thin solid lightgrey\"}:{}}>\n            <div class=\"row\">\n              <div class=\"col s6 offset-s3\">\n                <img class=\"circle\" src={\"data:image/png;base64,\" + this.props.displayedProfile.icon} style={{width: \"100%\", height: \"auto\"}} />\n              </div>\n              <div class=\"col s3\">\n                {this.props.displayedProfile.username == this.props.currentUser.username?<i data-target=\"modal1\"  class=\"tiny material-icons modal-trigger\" style={{cursor: \"pointer\"}}>border_color</i>:<div></div>}\n              </div>\n            </div>\n            <h1 class=\"center-align\" style={{fontSize: \"35px\", margin: \"10px\"}}>{this.props.displayedProfile.username}</h1>\n            <h2 class=\"center-align\" style={{fontSize: \"25px\", margin: \"10px\"}}>Calificación: {totalScore.toFixed(2) + \" (\" + this.props.displayedProfile.reviewNumber + \" reseñas)\"}</h2>\n\n            <div style={{borderTop: \"thin solid lightgrey\", borderBottom: \"thin solid lightgrey\", marginTop: \"10px\", marginBottom: \"10px\", paddingTop: \"10px\", paddingBottom: \"10px\"}}>\n              <p style={{fontSize: \"16px\", margin: \"auto\"}}> - {this.props.displayedProfile.fullname}</p>\n              <p style={{fontSize: \"16px\", margin: \"auto\"}}> - {this.props.displayedProfile.email}</p>\n              <p style={{fontSize: \"16px\", margin: \"auto\"}}> - Registrado el {new Date(Number(this.props.displayedProfile.registration)).toDateString()}</p>\n            </div>\n            <div class=\"container\">\n              <br/>\n              <h2 class=\"center-align\" style={{fontSize: \"20px\", margin: \"auto\"}}> Acerca de {this.props.displayedProfile.username}</h2>\n              <br/>\n              <p> {this.props.displayedProfile.description} {this.props.displayedProfile.username == this.props.currentUser.username?<i data-target=\"modal2\"  class=\"tiny material-icons modal-trigger\" style={{cursor: \"pointer\"}}>border_color</i>:<div></div>}</p>\n            </div>\n          </div>\n\n          <div class=\"col s12 m5 l5\" style={resolution>600?{borderLeft: \"thin solid lightgrey\"}:{}}>\n            <h2 style={{fontSize: \"25px\", margin: \"10px\"}}>Servicios del usuario:</h2>\n            {serviceList}\n          </div>\n        </div>\n\n\n        <div id=\"modal1\" class=\"modal\">\n          <div class=\"modal-content\">\n            <h4>Cambiar icono</h4>\n            <div class=\"row\">\n                <form class=\"col s12\">\n                  <div class=\"file-field input-field\">\n                      <div class=\"btn\">\n                          <span>File</span>\n                          <input type=\"file\" onChange={this.handleImageUpload} />\n                      </div>\n                      <div class=\"file-path-wrapper\">\n                          <input class=\"file-path validate\" type=\"text\" placeholder=\"Upload one or more files\" />\n                      </div>  \n                  </div>\n                </form>\n                <br/>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n          <a href=\"#\" type=\"button\" onClick={() => {this.modals[0].close(); this.handleUpdate()}} class=\"waves-effect waves-green btn-flat\">Actualizar</a>\n            <a href=\"#\" type=\"button\" onClick={() => {this.modals[0].close()}} class=\"waves-effect waves-green btn-flat\">Cancelar</a>\n          </div>\n        </div>\n\n        <div id=\"modal2\" class=\"modal\">\n          <div class=\"modal-content\">\n            <h4>Cambiar descripción</h4>\n            <div class=\"row\">\n                <form class=\"col s12\">\n                    <div class=\"row\">\n                        <div class=\"input-field col s12\">\n                            <textarea id=\"newDescription\" class=\"materialize-textarea\" name=\"newDescription\" onChange={this.handleChange}></textarea>\n                            <label for=\"newDescription\">Nueva descripción</label>\n                        </div>\n                    </div>\n                </form>\n                <br/>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <a href=\"#\" type=\"button\" onClick={() => {this.modals[1].close(); this.handleUpdate()}} class=\"waves-effect waves-green btn-flat\">Actualizar</a>\n            <a href=\"#\" type=\"button\" onClick={() => {this.modals[1].close()}} class=\"waves-effect waves-green btn-flat\">Cancelar</a>\n          </div>\n        </div>\n        \n      </Main>\n    }\n    return(content)\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return ({\n    displayedServices: state.displayedServices,\n    displayedProfile: state.displayedProfile,\n    currentUser: state.currentUser,\n    auth: state.auth\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onUpdateDisplayedService: updateDisplayedService,\n    onSetRedirect: setRedirect,\n    onUpdateDisplayedService: updateDisplayedService,\n    onSetProfile: setProfile,\n    onSetUser: setUser,\n    onSetDisplayedService: setDisplayedService\n  }, dispatch); \n}\n\nexport default withCookies(connect(mapStateToProps, mapActionsToProps)(Profile));","import React from \"react\";\nimport Main from \"./page-elements/Main\";\nimport { Link, NavLink, Navigate } from \"react-router-dom\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { withCookies } from \"react-cookie\";\nimport { setRedirect } from \"../actions/displayed-services-actions\";\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\nimport { resetNewMessage, setDisplayEditor, setDisplayedMessage, setInteractionIndex, setReceivedMessages, setSentMessages, updateNewMessage } from \"../actions/displayed-messages-actions\";\nimport { logOut } from \"../actions/user-actions\";\nconst host = require(\"../host\").host\n\nexport class Messages extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.modals = undefined;\n    this.tabs = undefined;\n    this.floatingbutton = undefined;\n    this.handleSelection = this.handleSelection.bind(this);\n    this.handleModeChange = this.handleModeChange.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSendMail = this.handleSendMail.bind(this);\n    this.handleInteraction = this.handleInteraction.bind(this);\n    this.deleteMessage = this.deleteMessage.bind(this);\n  }\n\n  handleSelection(e) {\n    this.props.onSetEditor(false);\n    this.props.onSetDisplayedMessages(e.target.id);\n  }\n\n  deleteMessage() {\n    let msgId = \"\";\n    let originalCode = this.props.displayedMessages.interactionIndex;\n\n    let codeSource = this.props.displayedMessages.interactionIndex.split(\":\")[0];\n    let codeIndex = Number(this.props.displayedMessages.interactionIndex.split(\":\")[1]);\n    if(codeIndex >= 0) {\n      if(codeSource == \"sent\" && codeIndex < this.props.displayedMessages.sent.length) {\n        msgId = this.props.displayedMessages.sent[codeIndex]._id\n      } else if (codeSource == \"received\" && codeIndex < this.props.displayedMessages.received.length) {\n        msgId = this.props.displayedMessages.received[codeIndex]._id\n      }\n    }\n\n    let that = this;\n    if(msgId != \"\") {\n      if(this.props.auth.authToken) {\n        let requestOptions = {\n          method: 'DELETE',\n          headers: { \n              'Accept': '*/*',\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${this.props.auth.authToken}`\n          },\n          body: JSON.stringify({\n            id: msgId\n          })\n        }\n        let secondRequestOptions = {\n          method: 'GET',\n          headers: { \n              'Accept': '*/*',\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${that.props.auth.authToken}`\n          }\n        }\n  \n  \n        fetch(`${host}/messages`, requestOptions).then(response => response.json()).then((firstRes) => {         \n          if(firstRes.type == \"res\") {\n          \n            fetch(`${host}/messages`, secondRequestOptions).then(response => response.json()).then((secondRes) => {         \n              if(secondRes.type == \"res\") {\n                that.props.onSetReceivedMessages(secondRes.value.received);\n                that.props.onSetSentMessages(secondRes.value.sent);\n              } else {\n                console.log(JSON.stringify(secondRes))\n              }\n            }).catch((err)=> {\n                console.log(err);\n                that.props.onLogOut();\n            });\n  \n          } else {\n            console.log(JSON.stringify(firstRes))\n          }\n        }).catch((err)=> {\n            console.log(err);\n            that.props.onLogOut();\n        });\n      }\n      \n    }\n\n  }\n\n  handleInteraction(e) {\n    console.log(e)\n    this.props.onSetInteractionIndex(e.target.id);\n  }\n\n  handleChange(e) {\n    console.log(e)\n    this.props.onUpdateNewMessage(e);\n  }\n\n  handleModeChange(e) {\n    this.props.onSetEditor(true);\n  }\n\n  handleSendMail() {\n    let that = this;\n    \n    if(this.props.auth.authToken) {\n      let requestOptions = {\n        method: 'POST',\n        headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${this.props.auth.authToken}`\n        },\n        body: JSON.stringify({\n          to: this.props.displayedMessages.newMessage.to,\n          subject: this.props.displayedMessages.newMessage.subject,\n          message: this.props.displayedMessages.newMessage.message\n        })\n      }\n      let secondRequestOptions = {\n        method: 'GET',\n        headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${that.props.auth.authToken}`\n        }\n      }\n\n\n      fetch(`${host}/messages`, requestOptions).then(response => response.json()).then((firstRes) => {         \n        if(firstRes.type == \"res\") {\n          that.props.onSetEditor(false)\n          \n          fetch(`${host}/messages`, secondRequestOptions).then(response => response.json()).then((secondRes) => {         \n            if(secondRes.type == \"res\") {\n              that.props.onSetReceivedMessages(secondRes.value.received);\n              that.props.onSetSentMessages(secondRes.value.sent);\n            } else {\n              console.log(JSON.stringify(secondRes))\n            }\n          }).catch((err)=> {\n              console.log(err);\n              that.props.onLogOut();\n          });\n\n        } else {\n          console.log(JSON.stringify(firstRes))\n        }\n      }).catch((err)=> {\n          console.log(err);\n          that.props.onLogOut();\n      });\n    }\n  }\n\n\n\n  componentDidMount() {\n    let elems = document.querySelectorAll('.modal');\n    this.modals = M.Modal.init(elems, {});\n    elems = document.querySelectorAll('.tabs')\n    this.tabs = M.Tabs.init(elems, {});\n    elems = document.querySelectorAll('.fixed-action-btn');\n    this.floatingbutton = M.FloatingActionButton.init(elems, {});\n\n    if(this.props.auth.authToken) {\n      let requestOptions = {\n        method: 'GET',\n        headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${this.props.auth.authToken}`\n        }\n      }\n  \n      let that = this;\n      fetch(`${host}/messages`, requestOptions).then(response => response.json()).then((e) => {         \n        if(e.type == \"res\") {\n          that.props.onSetReceivedMessages(e.value.received);\n          that.props.onSetSentMessages(e.value.sent);\n        } else {\n          console.log(JSON.stringify(e))\n        }\n      }).catch((e)=> {\n          console.log(e);\n          that.props.onLogOut();\n      });\n    }\n  }\n\n  render() {\n    \n    let content = <Navigate to=\"/\"/>\n    let receivedList = []\n    let sentList = []\n    let smallReceivedList = []\n    let smallSentList = []\n\n\n    for(let i in this.props.displayedMessages.received) {\n      let code = \"received:\" + String(i);\n      let selectedColor = {cursor: \"pointer\"}\n      if(this.props.displayedMessages.received[i]._id == this.props.displayedMessages.displayed._id) {\n        selectedColor = {cursor: \"pointer\", backgroundColor: \"#f0fff8\"}\n      }\n      receivedList.push(\n        <li class=\"collection-item avatar hoverable\" id={code} onClick={this.handleSelection} style={selectedColor}>\n        <img src={\"data:image/png;base64,\" + this.props.displayedMessages.received[i].icon} id={code} onClick={this.handleSelection} class=\"circle\"/>\n          <span id={code} class=\"title truncate\" onClick={this.handleSelection}>{this.props.displayedMessages.received[i].subject}</span>\n            <p  id={code} class=\"truncate\" onClick={this.handleSelection}>From: {this.props.displayedMessages.received[i].from}</p>\n            <p id={code} onClick={this.handleSelection}>At: {new Date(Number(this.props.displayedMessages.received[i].sentAt)).toDateString()}</p>\n            <p id={code} class=\"truncate\" onClick={this.handleSelection}>{this.props.displayedMessages.received[i].message}</p>\n            <a id={code} href=\"#!\" onClick={this.handleInteraction} data-target=\"eliminarMensaje\" class=\"secondary-content modal-trigger\"><i id={code} class=\"material-icons\">close</i></a>\n        </li>\n      )\n\n      smallReceivedList.push(\n        <li class=\"collection-item avatar hoverable modal-trigger\" id={code} onClick={this.handleSelection} style={selectedColor} data-target=\"mostrarMensaje\">\n        <img src={\"data:image/png;base64,\" + this.props.displayedMessages.received[i].icon} id={code} onClick={this.handleSelection} class=\"circle\"/>\n          <span id={code} class=\"title truncate\" onClick={this.handleSelection}>{this.props.displayedMessages.received[i].subject}</span>\n            <p  id={code} class=\"truncate\" onClick={this.handleSelection}>From: {this.props.displayedMessages.received[i].from}</p>\n            <p id={code} onClick={this.handleSelection}>At: {new Date(Number(this.props.displayedMessages.received[i].sentAt)).toDateString()}</p>\n            <p id={code} class=\"truncate\" onClick={this.handleSelection}>{this.props.displayedMessages.received[i].message}</p>\n            <a id={code} href=\"#!\" onClick={this.handleInteraction} data-target=\"eliminarMensaje\" class=\"secondary-content modal-trigger\"><i id={code} class=\"material-icons\">close</i></a>\n        </li>\n      )\n\n    }\n    for(let i in this.props.displayedMessages.sent) {\n      let code = \"sent:\" + String(i);\n      let selectedColor = {cursor: \"pointer\"}\n      if(this.props.displayedMessages.sent[i]._id == this.props.displayedMessages.displayed._id) {\n        selectedColor = {cursor: \"pointer\", backgroundColor: \"#f0fff8\"}\n      }\n      sentList.push(\n        <li class=\"collection-item avatar hoverable\" id={code} onClick={this.handleSelection} style={selectedColor}>\n        <img src={\"data:image/png;base64,\" + this.props.displayedMessages.sent[i].icon} id={code} onClick={this.handleSelection} class=\"circle\"/>\n          <span id={code} class=\"title truncate\" onClick={this.handleSelection}>{this.props.displayedMessages.sent[i].subject}</span>\n            <p  id={code} class=\"truncate\" onClick={this.handleSelection}>To: {this.props.displayedMessages.sent[i].to}</p>\n            <p id={code} onClick={this.handleSelection}>At: {new Date(Number(this.props.displayedMessages.sent[i].sentAt)).toDateString()}</p>\n            <p id={code} class=\"truncate\" onClick={this.handleSelection}>{this.props.displayedMessages.sent[i].message}</p>\n            <a id={code} onClick={this.handleInteraction} href=\"#!\" data-target=\"eliminarMensaje\" class=\"secondary-content modal-trigger\"><i id={code} class=\"material-icons\">close</i></a>\n        </li>\n      )\n      smallSentList.push(\n        <li class=\"collection-item avatar hoverable modal-trigger\" id={code} onClick={this.handleSelection} style={selectedColor} data-target=\"mostrarMensaje\">\n        <img src={\"data:image/png;base64,\" + this.props.displayedMessages.sent[i].icon} id={code} onClick={this.handleSelection} class=\"circle\"/>\n          <span id={code} class=\"title truncate\" onClick={this.handleSelection}>{this.props.displayedMessages.sent[i].subject}</span>\n            <p  id={code} class=\"truncate\" onClick={this.handleSelection}>To: {this.props.displayedMessages.sent[i].to}</p>\n            <p id={code} onClick={this.handleSelection}>At: {new Date(Number(this.props.displayedMessages.sent[i].sentAt)).toDateString()}</p>\n            <p id={code} class=\"truncate\" onClick={this.handleSelection}>{this.props.displayedMessages.sent[i].message}</p>\n            <a id={code} onClick={this.handleInteraction} href=\"#!\" data-target=\"eliminarMensaje\" class=\"secondary-content modal-trigger\"><i id={code} class=\"material-icons\">close</i></a>\n        </li>\n      )\n    }\n\n    let mainarea = <ul class=\"collection\"  style={{margin: \"0\", height: \"100%\"}}><li class=\"collection-item\"></li></ul>\n\n    if(this.props.displayedMessages.displayed.from) {\n      mainarea = <ul class=\"collection\"  style={{margin: \"0\", height: \"100%\"}}>\n        <li class=\"collection-item avatar\">\n          <img src={\"data:image/png;base64,\" + this.props.displayedMessages.displayed.icon} class=\"circle\"/>\n            <span class=\"title truncate\">{this.props.displayedMessages.displayed.from}</span>\n            <p>{this.props.displayedMessages.displayed.subject}</p>\n            <p>{new Date(Number(this.props.displayedMessages.displayed.sentAt)).toDateString()}</p>\n        </li>\n        <li class=\"collection-item\">{this.props.displayedMessages.displayed.message}</li>\n      </ul>\n    }\n    \n    let editor = <ul class=\"collection\" style={{margin: \"0\", height: \"100%\"}}>\n      \n        <li class=\"collection-item\">\n          <div class=\"row\" style={{marginBottom: \"0px\"}}>\n            <label class=\"col s8\">to: <input class=\"browser-default\" type=\"text\" style={{border: \"0\", width: \"100%\", outline: \"none\"}} onChange={this.handleChange} value={this.props.displayedMessages.newMessage.to} name=\"to\" placeholder=\"Intruduzca el usuario al que va dirigido este mensaje...\"></input></label>\n            <div class=\"col s4\">\n              <button class=\"btn waves-effect waves-light\" type=\"button\" onClick={this.handleSendMail}>Enviar\n                <i class=\"material-icons right\">send</i>\n              </button>\n            </div> \n          </div>\n        </li>\n     \n      \n\n      <li class=\"collection-item\">\n        <label>subject: <input class=\"browser-default\" type=\"text\" style={{border: \"0\", width: \"100%\", outline: \"none\"}} onChange={this.handleChange} value={this.props.displayedMessages.newMessage.subject} name=\"subject\" placeholder=\"Asunto del mensaje...\"></input></label>\n      </li>\n\n      <li class=\"collection-item\"  style={{border: \"0\", height: \"100%\"}}>\n        <textarea type=\"textarea\" style={{border: \"0\", height: \"100%\", outline: \"none\"}} onChange={this.handleChange} value={this.props.displayedMessages.newMessage.message} name=\"message\" placeholder=\"Escriba su mensaje...\"></textarea>\n      </li>\n    \n    </ul>\n    \n    if(this.props.displayedServices.homeredirect == false && this.props.currentUser.username != \"\") {\n      content = <Main>\n        <div class=\"row hide-on-med-and-down\">\n          <div class=\"col s5\" style={{borderRight: \"solid thin lightgrey\", padding: \"0\", height: \"80vh\", overflowX: \"hidden\", overflowY: \"auto\"}}>\n            \n            <div class=\"row\">\n              <div class=\"col s12\">\n                <ul class=\"tabs tabs-fixed-width\">\n                  <li class=\"tab col s6\" ><a class=\"active\" style={{color: \"darkgreen\"}} href=\"#receivedTab\">Recibidos</a></li>\n                  <li class=\"tab col s6\"><a href=\"#sentTab\"  style={{color:\"darkgreen\"}}>Enviados</a></li>\n                </ul>\n              </div>\n              <div id=\"receivedTab\" class=\"col s12\">\n                <ul class=\"collection\">\n                  {receivedList}\n                </ul>\n              </div>\n              <div id=\"sentTab\" class=\"col s12\">\n                <ul class=\"collection\">\n                  {sentList}\n                </ul>\n              </div>\n            </div>\n\n          </div>\n          <div class=\"col s7\" style={{padding: \"0\", height: \"80vh\"}}>\n            {this.props.displayedMessages.displayEditor == false ? mainarea:editor}\n          </div>\n        </div>\n\n        <div class=\"row hide-on-large-only\">\n          <div class=\"col s12\" style={{borderRight: \"solid thin lightgrey\", padding: \"0\", height: \"80vh\", overflowX: \"hidden\", overflowY: \"auto\"}}>\n            \n            <div class=\"row\">\n              <div class=\"col s12\">\n                <ul class=\"tabs tabs-fixed-width\">\n                  <li class=\"tab col s6\" ><a class=\"active\" style={{color: \"darkgreen\"}} href=\"#smallReceivedTab\">Recibidos</a></li>\n                  <li class=\"tab col s6\"><a href=\"#smallSentTab\" style={{color:\"darkgreen\"}}>Enviados</a></li>\n                </ul>\n              </div>\n              <div id=\"smallReceivedTab\" class=\"col s12\">\n                <ul class=\"collection\">\n                  {smallReceivedList}\n                </ul>\n              </div>\n              <div id=\"smallSentTab\" class=\"col s12\">\n                <ul class=\"collection\">\n                  {smallSentList}\n                </ul>\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        <div name=\"true\" onClick={this.handleModeChange} class=\"fixed-action-btn hide-on-med-and-down\">\n          <a name=\"true\" onClick={this.handleModeChange} class=\"btn-floating btn-large green\">\n            <i name=\"true\" onClick={this.handleModeChange} class=\"large material-icons\">mode_edit</i>\n          </a>\n        </div>\n\n        <div name=\"true\" onClick={this.handleModeChange} class=\"fixed-action-btn modal-trigger hide-on-large-only\" data-target=\"mostrarEditor\">\n          <a name=\"true\" onClick={this.handleModeChange} class=\"btn-floating btn-large green\">\n            <i name=\"true\" onClick={this.handleModeChange} class=\"large material-icons\">mode_edit</i>\n          </a>\n        </div>\n\n        <div id=\"eliminarMensaje\" class=\"modal\">\n          <div class=\"modal-content\">\n            <h4 class=\"center-align\">Eliminar mensaje</h4>\n            <p class=\"center-align\">¿Seguro que desea eliminar el mensaje?</p>\n          </div>\n          <div class=\"modal-footer\">\n            <a href=\"#!\" onClick={this.deleteMessage} class=\"modal-close waves-effect waves-green btn-flat\">Aceptar</a>\n            <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">Cancelar</a>\n          </div>\n        </div>\n\n        <div id=\"mostrarMensaje\" class=\"modal\" style={{width: \"90%\", height: \"100%\"}}>\n          {mainarea}\n          <div class=\"modal-footer\">\n            <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">Cerrar</a>\n          </div>\n        </div>\n\n        <div id=\"mostrarEditor\" class=\"modal\" style={{width: \"90%\", height: \"100%\"}}>\n          {editor}\n          <div class=\"modal-footer\">\n            <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">Cerrar</a>\n          </div>\n        </div>\n      \n      </Main>\n    }\n    return(content)\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return ({\n    displayedServices: state.displayedServices,\n    displayedProfile: state.displayedProfile,\n    displayedMessages: state.displayedMessages,\n    currentUser: state.currentUser,\n    auth: state.auth\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onSetRedirect: setRedirect,\n    onSetReceivedMessages: setReceivedMessages,\n    onSetSentMessages: setSentMessages,\n    onSetEditor: setDisplayEditor,\n    onLogOut: logOut,\n    onUpdateNewMessage: updateNewMessage,\n    onResetNewMessage: resetNewMessage,\n    onSetDisplayedMessages: setDisplayedMessage,\n    onSetInteractionIndex: setInteractionIndex\n  }, dispatch); \n}\n\nexport default withCookies(connect(mapStateToProps, mapActionsToProps)(Messages));","import React from \"react\";\nimport Main from \"./page-elements/Main\";\nimport { Link, NavLink, Navigate } from \"react-router-dom\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { withCookies } from \"react-cookie\";\nimport { setRedirect } from \"../actions/displayed-services-actions\";\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\nimport { resetNewMessage, setDisplayEditor, setDisplayedMessage, setInteractionIndex, setReceivedMessages, setSentMessages, updateNewMessage } from \"../actions/displayed-messages-actions\";\nimport { logOut } from \"../actions/user-actions\";\nimport { resetInput, setServerMessage, setTransactions, setTransactionsInteractionIndex, updateInput } from \"../actions/displayed-transactions-actions\";\nconst host = require(\"../host\").host\n\nexport class Transactions extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.modals = undefined;\n    this.tabs = undefined;\n    this.tooltip = undefined;\n    this.setInteraction = this.setInteraction.bind(this)\n    this.updateTransaction = this.updateTransaction.bind(this)\n    this.refreshTransactions = this.refreshTransactions.bind(this)\n    this.payWithPunctuation = this.payWithPunctuation.bind(this)\n    this.payWithoutPunctuation = this.payWithoutPunctuation.bind(this)\n    this.acceptTransaction = this.acceptTransaction.bind(this)\n    this.rejectTransaction = this.rejectTransaction.bind(this)\n    this.cancelTransaction = this.cancelTransaction.bind(this)\n    this.deleteTransaction = this.deleteTransaction.bind(this)\n  }\n\n  deleteTransaction() {\n    let that = this\n    if(this.props.auth.authToken) {  \n      let requestOptions = {\n        method: 'DELETE',\n        headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${that.props.auth.authToken}`\n        }, body: JSON.stringify({\n          id: that.props.displayedTransactions.transactions[that.props.displayedTransactions.interactionIndex]._id\n        })\n      }\n  \n      fetch(`${host}/transactions`, requestOptions).then(response => response.json()).then((e) => {         \n        if(e.type == \"res\") {\n          that.refreshTransactions()\n        } else {\n          console.log(JSON.stringify(e))\n        }\n      }).catch((e)=> {\n          console.log(e);\n          that.props.onLogOut();\n      });\n    }\n  }\n\n  payWithPunctuation() {   \n    let that = this\n    if(this.props.auth.authToken) {  \n      let requestOptions = {\n        method: 'PUT',\n        headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${that.props.auth.authToken}`\n        }, body: JSON.stringify({\n          id: that.props.displayedTransactions.transactions[that.props.displayedTransactions.interactionIndex]._id,\n          operation: \"pay\",\n          punctuation: that.props.displayedTransactions.inputFields.punctuation\n        })\n      }\n  \n      fetch(`${host}/transactions`, requestOptions).then(response => response.json()).then((e) => {         \n        if(e.type == \"res\") {\n          that.props.onSetServerMessage(\"Pago realizado correctamente\")\n          that.refreshTransactions()\n        } else {\n          that.props.onSetServerMessage(String(e.value))\n          console.log(JSON.stringify(e))\n        }\n      }).catch((e)=> {\n          console.log(e);\n          that.props.onLogOut();\n      });\n    }\n  }\n\n  payWithoutPunctuation() {\n    let that = this\n    if(this.props.auth.authToken) {  \n      let requestOptions = {\n        method: 'PUT',\n        headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${that.props.auth.authToken}`\n        }, body: JSON.stringify({\n          id: that.props.displayedTransactions.transactions[that.props.displayedTransactions.interactionIndex]._id,\n          operation: \"pay\",\n        })\n      }\n  \n      fetch(`${host}/transactions`, requestOptions).then(response => response.json()).then((e) => {         \n        if(e.type == \"res\") {\n          that.props.onSetServerMessage(\"Pago realizado correctamente\")\n          that.refreshTransactions()\n        } else {\n          that.props.onSetServerMessage(String(e.value))\n          console.log(JSON.stringify(e))\n        }\n      }).catch((e)=> {\n          console.log(e);\n          that.props.onLogOut();\n      });\n    }\n  }\n  \n  acceptTransaction() {\n    let that = this\n    if(this.props.displayedTransactions.inputFields.finalPayment == 0 || this.props.displayedTransactions.inputFields.finalPayment == \"\" || this.props.displayedTransactions.inputFields.finalPayment == undefined) {\n      this.props.onSetServerMessage(\"Introduzca un precio válido\")\n      return\n    }\n    if(this.props.auth.authToken) {  \n      let requestOptions = {\n        method: 'PUT',\n        headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${that.props.auth.authToken}`\n        }, body: JSON.stringify({\n          id: that.props.displayedTransactions.transactions[that.props.displayedTransactions.interactionIndex]._id,\n          operation: \"accept\",\n          previousPayment: that.props.displayedTransactions.inputFields.firstPayment,\n          finalPayment: that.props.displayedTransactions.inputFields.finalPayment,\n          notes: that.props.displayedTransactions.inputFields.proprietaryNotes\n        })\n      }\n\n      console.log(requestOptions.body)\n  \n      fetch(`${host}/transactions`, requestOptions).then(response => response.json()).then((e) => {         \n        if(e.type == \"res\") {\n          that.props.onSetServerMessage(\"Transacción aceptada\")\n          that.refreshTransactions()\n        } else {\n          that.props.onSetServerMessage(String(e.value))\n          console.log(JSON.stringify(e))\n        }\n      }).catch((e)=> {\n          console.log(e);\n          that.props.onLogOut();\n      });\n    }\n  }\n\n  rejectTransaction() {\n    let that = this\n    if(this.props.auth.authToken) {  \n      let requestOptions = {\n        method: 'PUT',\n        headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${that.props.auth.authToken}`\n        }, body: JSON.stringify({\n          id: that.props.displayedTransactions.transactions[that.props.displayedTransactions.interactionIndex]._id,\n          operation: \"reject\",\n          notes: that.props.displayedTransactions.inputFields.proprietaryNotes\n        })\n      }\n  \n      fetch(`${host}/transactions`, requestOptions).then(response => response.json()).then((e) => {         \n        if(e.type == \"res\") {\n          that.props.onSetServerMessage(\"Transacción rechazada\")\n          that.refreshTransactions()\n        } else {\n          that.props.onSetServerMessage(String(e.value))\n          console.log(JSON.stringify(e))\n        }\n      }).catch((e)=> {\n          console.log(e);\n          that.props.onLogOut();\n      });\n    }\n  }\n  \n  cancelTransaction() {\n    let that = this\n    if(this.props.auth.authToken) {  \n      let requestOptions = {\n        method: 'PUT',\n        headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${that.props.auth.authToken}`\n        }, body: JSON.stringify({\n          id: that.props.displayedTransactions.transactions[that.props.displayedTransactions.interactionIndex]._id,\n          operation: \"cancel\"\n        })\n      }\n  \n      fetch(`${host}/transactions`, requestOptions).then(response => response.json()).then((e) => {         \n        if(e.type == \"res\") {\n          that.props.onSetServerMessage(\"Trámite cancelado\")\n          that.refreshTransactions()\n        } else {\n          that.props.onSetServerMessage(String(e.value))\n          console.log(JSON.stringify(e))\n        }\n      }).catch((e)=> {\n          console.log(e);\n          that.props.onLogOut();\n      });\n    }\n  }\n\n  refreshTransactions() {\n    if(this.props.auth.authToken) {\n      let requestOptions = {\n        method: 'GET',\n        headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${this.props.auth.authToken}`\n        }\n      }\n  \n      let that = this;\n      fetch(`${host}/transactions`, requestOptions).then(response => response.json()).then((e) => {         \n        if(e.type == \"res\") {\n          console.log(e)\n          that.props.onSetTransactions([...e.value])\n        } else {\n          console.log(JSON.stringify(e))\n        }\n      }).catch((e)=> {\n          console.log(e);\n          that.props.onLogOut();\n      });\n    }\n  }\n\n\n  updateTransaction(e) {\n    if(e.target.name == \"firstPayment\") {\n      this.props.onUpdateTransactionInput({\n        target: {\n          name: e.target.name,\n          value: Number(e.target.value)\n        }\n      })\n    } else {\n      this.props.onUpdateTransactionInput(e)\n    }\n    \n  }\n\n  setInteraction(e) {\n    this.props.onResetInput()\n    console.log(e)\n    this.props.onSetIndex(e.target.id)\n  }\n  componentDidMount() {\n    let elems = document.querySelectorAll('.modal');\n    this.modals = M.Modal.init(elems, {});\n    elems = document.querySelectorAll('.tabs')\n    this.tabs = M.Tabs.init(elems, {});\n    elems = document.querySelectorAll('.tooltipped');\n    this.tooltip = M.Tooltip.init(elems, {});\n\n    this.refreshTransactions()\n  }\n\n  render() {\n    \n    let content = <Navigate to=\"/\"/>\n    let proprietaryList = []\n    let applicantList = []\n    let closedList = []\n    let selectedColor = {cursor: \"pointer\"}\n    let modalContent = <div></div>\n    let requiresFirstPayment = false\n    \n    for(let i = this.props.displayedTransactions.transactions.length-1; i >= 0; i--) {\n      let code = i;\n      let status = \"\"\n      if(this.props.displayedTransactions.transactions[i].status == \"new\") {\n        status = \"Solicitud pendiente de revisar por el ofertante\";\n      } else if(this.props.displayedTransactions.transactions[i].status == \"accepted\") {\n        if(this.props.displayedTransactions.transactions[i].previousPayment == 0) {\n          status = \"Solicitud aceptada por el ofertante\";\n        } else {\n          status = \"Solicitud aceptada. Se requiere el pago de una señal\"\n        }\n        \n      } else if(this.props.displayedTransactions.transactions[i].status == \"firstPayment\"){\n        status = \"Pago de la señal abonado\";\n      } else {\n        status = \"Cerrado\";\n      }\n      \n      \n\n      if(this.props.displayedTransactions.transactions[i].status == \"closed\") {\n        closedList.push(\n          <li class=\"collection-item avatar hoverable modal-trigger\" data-target=\"transaccionInfoModal\" id={code} style={selectedColor} onClick={this.setInteraction}>\n        <img src={\"data:image/png;base64,\" + this.props.displayedTransactions.transactions[i].icon} id={code} class=\"circle\"/>\n          <span id={code} class=\"title truncate\">{this.props.displayedTransactions.transactions[i].serviceName}</span>\n          <p id={code}>{status}</p>\n          <p  id={code} class=\"truncate\">Por: {this.props.displayedTransactions.transactions[i].proprietary == this.props.currentUser.username?this.props.displayedTransactions.transactions[i].applicant:this.props.displayedTransactions.transactions[i].proprietary}</p>\n          <p id={code}>At: {new Date(Number(this.props.displayedTransactions.transactions[i].requestedAt)).toDateString()}</p>\n          <a id={code} href=\"#!\" data-target=\"eliminarMensaje\" class=\"secondary-content modal-trigger\"><i class=\"material-icons\">close</i></a>\n        </li>\n        )\n      } else if(this.props.displayedTransactions.transactions[i].applicant == this.props.currentUser.username) {\n        applicantList.push(\n        <li class=\"collection-item avatar hoverable modal-trigger\" data-target=\"transaccionInfoModal\" id={code} style={selectedColor} onClick={this.setInteraction}>\n          <img src={\"data:image/png;base64,\" + this.props.displayedTransactions.transactions[i].icon} id={code} class=\"circle\"/>\n          <span id={code} class=\"title truncate\">{this.props.displayedTransactions.transactions[i].serviceName}</span>\n          <p id={code}>{status}</p>\n          <p  id={code} class=\"truncate\">Por: {this.props.displayedTransactions.transactions[i].proprietary == this.props.currentUser.username?this.props.displayedTransactions.transactions[i].applicant:this.props.displayedTransactions.transactions[i].proprietary}</p>\n          <p id={code}>At: {new Date(Number(this.props.displayedTransactions.transactions[i].requestedAt)).toDateString()}</p>\n        </li>)\n      } else if(this.props.displayedTransactions.transactions[i].proprietary == this.props.currentUser.username) {\n        proprietaryList.push(\n        <li class=\"collection-item avatar hoverable modal-trigger\" data-target=\"transaccionInfoModal\" id={code} style={selectedColor} onClick={this.setInteraction}>\n          <img src={\"data:image/png;base64,\" + this.props.displayedTransactions.transactions[i].icon} id={code} class=\"circle\"/>\n          <span id={code} class=\"title truncate\">{this.props.displayedTransactions.transactions[i].serviceName}</span>\n          <p id={code}>{status}</p>\n          <p  id={code} class=\"truncate\">Por: {this.props.displayedTransactions.transactions[i].proprietary == this.props.currentUser.username?this.props.displayedTransactions.transactions[i].applicant:this.props.displayedTransactions.transactions[i].proprietary}</p>\n          <p id={code}>At: {new Date(Number(this.props.displayedTransactions.transactions[i].requestedAt)).toDateString()}</p>\n        </li>)\n      }\n    }\n\n    let selectedId = this.props.displayedTransactions.interactionIndex\n    if(this.props.displayedTransactions.transactions.length > 0){\n      if(this.props.displayedTransactions.transactions[selectedId].previousPayment > 0) {\n        requiresFirstPayment = true\n      } \n      if(this.props.displayedTransactions.transactions[selectedId].status == \"closed\") {\n        modalContent = <div>\n          <div class=\"modal-content\">\n                <h4 class=\"center-align\">{this.props.displayedTransactions.transactions[selectedId].serviceName}</h4>\n                <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Por: {this.props.displayedTransactions.transactions[selectedId].proprietary == this.props.currentUser.username?this.props.displayedTransactions.transactions[selectedId].applicant:this.props.displayedTransactions.transactions[selectedId].proprietary}</p>\n                <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Iniciado: {new Date(Number(this.props.displayedTransactions.transactions[selectedId].requestedAt)).toDateString()}</p>\n                <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Finalizado: {new Date(Number(this.props.displayedTransactions.transactions[selectedId].closedAt)).toDateString()}</p>\n                \n                <p>Notas del comprador:</p>\n                <p>{this.props.displayedTransactions.transactions[selectedId].applicantNotes}</p>\n                <p>Notas del vendedor:</p>\n                <p>{this.props.displayedTransactions.transactions[selectedId].proprietaryNotes}</p>\n                <br/>\n                <p>Precio final: {String(this.props.displayedTransactions.transactions[selectedId].finalPayment)}€</p>\n              </div>\n              <div class=\"modal-footer\">\n                <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">Cerrar</a>\n              </div>\n        </div>\n      } else if(this.props.displayedTransactions.transactions[selectedId].applicant == this.props.currentUser.username) {\n        if(this.props.displayedTransactions.transactions[selectedId].status == \"new\") {\n          modalContent = <div>\n            <div class=\"modal-content\">\n              <h4 class=\"center-align\">{this.props.displayedTransactions.transactions[selectedId].serviceName}</h4>\n              <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Por: {this.props.displayedTransactions.transactions[selectedId].proprietary == this.props.currentUser.username?this.props.displayedTransactions.transactions[selectedId].applicant:this.props.displayedTransactions.transactions[selectedId].proprietary}</p>\n              <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Iniciado: {new Date(Number(this.props.displayedTransactions.transactions[selectedId].requestedAt)).toDateString()}</p>\n\n              <p>Notas del comprador:</p>\n              <p>{this.props.displayedTransactions.transactions[selectedId].applicantNotes == \"\" ? \"No has añadido descripción adicional a tu solicitud\":this.props.displayedTransactions.transactions[selectedId].applicantNotes}</p>\n              <br/>\n            </div>\n            <div class=\"modal-footer\">\n              <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" data-target=\"confirmCancel\" style={{backgroundColor: \"red\", color: \"white\", fontWeight: \"bold\"}}>Cancelar</a>\n              <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">Cerrar</a>\n            </div>\n          </div>\n        } else if(this.props.displayedTransactions.transactions[selectedId].status == \"accepted\") {\n          let previousPaymentMsg = \"\"\n          let buttonMsg = \"Pagar\"\n          if(Number(this.props.displayedTransactions.transactions[selectedId].previousPayment) > 0) {\n            previousPaymentMsg = \"El vendedor ha solicitado que abones una señal inicial de \" + String(this.props.displayedTransactions.transactions[selectedId].previousPayment) + \"€ por el servicio. Podrás completar el resto del pago una vez finalizado el servicio\"\n            buttonMsg = \"Pagar señal\"\n          }\n          modalContent = <div>\n          <div class=\"modal-content\">\n                <h4 class=\"center-align\">{this.props.displayedTransactions.transactions[selectedId].serviceName}</h4>\n                <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Por: {this.props.displayedTransactions.transactions[selectedId].proprietary == this.props.currentUser.username?this.props.displayedTransactions.transactions[selectedId].applicant:this.props.displayedTransactions.transactions[selectedId].proprietary}</p>\n                <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Iniciado: {new Date(Number(this.props.displayedTransactions.transactions[selectedId].requestedAt)).toDateString()}</p>\n                \n                <p>Notas del vendedor:</p>\n                <p>{this.props.displayedTransactions.transactions[selectedId].proprietaryNotes == \"\" ? \"El vendedor no ha adjuntado ninguna nota...\":this.props.displayedTransactions.transactions[selectedId].proprietaryNotes}</p>\n                \n                <p>{previousPaymentMsg}</p>\n                <p>Precio final: {String(this.props.displayedTransactions.transactions[selectedId].finalPayment)}€</p>\n              </div>\n              <div class=\"modal-footer\">\n                <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" data-target=\"confirmPayment\" style={{backgroundColor: \"green\", color: \"white\", fontWeight: \"bold\"}}>{buttonMsg}</a>\n                <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" data-target=\"confirmCancel\" style={{backgroundColor: \"red\", color: \"white\", fontWeight: \"bold\"}}>Cancelar</a>\n                <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">Cerrar</a>\n              </div>\n        </div>\n        } else if(this.props.displayedTransactions.transactions[selectedId].status == \"firstPayment\") {\n          \n          modalContent = <div>\n          <div class=\"modal-content\">\n                <h4 class=\"center-align\">{this.props.displayedTransactions.transactions[selectedId].serviceName}</h4>\n                <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Por: {this.props.displayedTransactions.transactions[selectedId].proprietary == this.props.currentUser.username?this.props.displayedTransactions.transactions[selectedId].applicant:this.props.displayedTransactions.transactions[selectedId].proprietary}</p>\n                <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Iniciado: {new Date(Number(this.props.displayedTransactions.transactions[selectedId].requestedAt)).toDateString()}</p>\n                \n                <p>Notas del vendedor:</p>\n                <p>{this.props.displayedTransactions.transactions[selectedId].proprietaryNotes == \"\" ? \"El vendedor no ha adjuntado ninguna nota...\":this.props.displayedTransactions.transactions[selectedId].proprietaryNotes}</p>\n                \n                <p>La señal ha sido abonada satisfactoriamente y el vendedor ha sido notificado. Puede abonar el resto del pago una vez finalizado el servicio.</p>\n                <p>Precio final: {String(this.props.displayedTransactions.transactions[selectedId].finalPayment)}€</p>\n              </div>\n              <div class=\"modal-footer\">\n                <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" data-target=\"confirmPayment\">Pagar</a>\n                <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" data-target=\"confirmCancel\" style={{backgroundColor: \"red\", color: \"white\", fontWeight: \"bold\"}}>Cancelar</a>\n                <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">Cerrar</a>\n              </div>\n        </div>\n        }\n      } else if(this.props.displayedTransactions.transactions[selectedId].proprietary == this.props.currentUser.username) {\n        if(this.props.displayedTransactions.transactions[selectedId].status == \"new\") {\n          modalContent = <div>\n            <div class=\"modal-content\">\n              <h4 class=\"center-align\">{this.props.displayedTransactions.transactions[selectedId].serviceName}</h4>\n              <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Por: {this.props.displayedTransactions.transactions[selectedId].proprietary == this.props.currentUser.username?this.props.displayedTransactions.transactions[selectedId].applicant:this.props.displayedTransactions.transactions[selectedId].proprietary}</p>\n              <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Iniciado: {new Date(Number(this.props.displayedTransactions.transactions[selectedId].requestedAt)).toDateString()}</p>\n              <p>Notas del comprador:</p>\n              <p>{this.props.displayedTransactions.transactions[selectedId].applicantNotes == \"\" ? \"No has añadido descripción adicional a tu solicitud\":this.props.displayedTransactions.transactions[selectedId].applicantNotes}</p>\n              <br/>\n              <p>Si lo desea puede socilitar una señal proporcional al precio final. Una vez el cliente abone la cantidad solicitada, serás informado a través de el sistema de mensajería de la plataforma. Si el cliente cancela el servicio una vez comenzado, perderá la señal. No obstante, si la transacción es finalizada por parte del vendedor, el cliente recibirá el reintegro de la señal.</p>\n              <br/>\n              <p>Es necesario que defina un precio final por el servicio. Si el precio del servicio está expresado en €/hora, realice una estimación del número de horas requeridas. En tal caso, recomendamos que se ponga en contacto con el cliente para verificar que ambas partes están de acuerdo.</p>\n              <div class=\"row\">\n                <div class=\"col s6\">\n                 \n                  <label for=\"firstPaymentInput\">Señal<select id=\"firstPaymentInput\" class=\"browser-default\" name=\"firstPayment\" onChange={this.updateTransaction}>\n                    <option value={0}> Ninguna</option>\n                    <option value={Number(0.1)}>10%</option>\n                    <option value={Number(0.2)}>20%</option>\n                    <option value={Number(0.3)}>30%</option>\n                    <option value={Number(0.4)}>40%</option>\n                    <option value={Number(0.5)}>50%</option>\n                  </select> </label>\n                </div>\n                <div class=\"col s6\">\n                  <label>Precio final <input name=\"finalPayment\" type=\"number\" min=\"0\" placeholder={Number(this.props.displayedTransactions.transactions[selectedId].finalPayment)} onChange={this.updateTransaction} value={this.props.displayedTransactions.inputFields.finalPayment}></input></label>\n                </div>\n              </div>\n              <p>A la hora de definir un precio, tenga presente que la comisión por el trámite de un importe de {String(this.props.displayedTransactions.transactions[selectedId].finalPayment)}€ es del {String(this.props.displayedTransactions.transactions[selectedId].commision)}%</p>\n              <br/>\n              <p class=\"\">Si desea añadir alguna nota para el comprador, puede hacerlo en el siguiente campo. Recuerde que ante cualquier inconveniente puede contactar con el comprador mediante mensaje directo.</p>\n                <label for=\"proprietaryNotes\">Notas<textarea id=\"proprietaryNotes\" name=\"proprietaryNotes\" placeholder=\"Notas y aclaraciones para el comprador (Opcional)...\" onChange={this.updateTransaction} class=\"materialize-textarea\" value={this.props.displayedTransactions.inputFields.proprietaryNotes}></textarea></label>\n            </div>\n            <div class=\"modal-footer\">\n              <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" style={{backgroundColor: \"green\", color: \"white\", fontWeight: \"bold\"}} data-target=\"confirmAccept\">Aceptar</a>\n              <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" style={{backgroundColor: \"red\", color: \"white\", fontWeight: \"bold\"}} data-target=\"confirmReject\">Rechazar</a>\n              <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">Cerrar</a>\n            </div>\n          </div>\n        } else if(this.props.displayedTransactions.transactions[selectedId].status == \"accepted\") {\n          modalContent = <div>\n          <div class=\"modal-content\">\n                <h4 class=\"center-align\">{this.props.displayedTransactions.transactions[selectedId].serviceName}</h4>\n                <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Por: {this.props.displayedTransactions.transactions[selectedId].proprietary == this.props.currentUser.username?this.props.displayedTransactions.transactions[selectedId].applicant:this.props.displayedTransactions.transactions[selectedId].proprietary}</p>\n                <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Iniciado: {new Date(Number(this.props.displayedTransactions.transactions[selectedId].requestedAt)).toDateString()}</p>\n                \n                <p>Precio final: {String(this.props.displayedTransactions.transactions[selectedId].finalPayment)}€</p>\n              </div>\n              <div class=\"modal-footer\">\n              <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" data-target=\"confirmCancel\" style={{backgroundColor: \"red\", color: \"white\", fontWeight: \"bold\"}}>Cancelar</a>\n                <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">Cerrar</a>\n              </div>\n        </div>\n        } else if(this.props.displayedTransactions.transactions[selectedId].status == \"firstPayment\") {\n          \n          modalContent = <div>\n          <div class=\"modal-content\">\n                <h4 class=\"center-align\">{this.props.displayedTransactions.transactions[selectedId].serviceName}</h4>\n                <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Por: {this.props.displayedTransactions.transactions[selectedId].proprietary == this.props.currentUser.username?this.props.displayedTransactions.transactions[selectedId].applicant:this.props.displayedTransactions.transactions[selectedId].proprietary}</p>\n                <p style={{width: \"100%\", borderBottom: \"solid thin lightgray\"}}>Iniciado: {new Date(Number(this.props.displayedTransactions.transactions[selectedId].requestedAt)).toDateString()}</p>\n                \n                <p>El cliente ha abonado el pago por la señal</p>\n                <p>Precio final: {String(this.props.displayedTransactions.transactions[selectedId].finalPayment)}€</p>\n              </div>\n              <div class=\"modal-footer\">\n                <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" data-target=\"confirmCancel\" style={{backgroundColor: \"red\", color: \"white\", fontWeight: \"bold\"}}>Cancelar</a>\n                <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">Cerrar</a>\n              </div>\n            </div>\n        }\n      }\n    }\n    \n    \n    if(this.props.displayedServices.homeredirect == false && this.props.currentUser.username != \"\") {\n      content = <Main>\n        <h1 class=\"center-align\" style={{fontSize: \"35px\"}}>Gestión de transacciones</h1>\n        <div class=\"row\">\n              <div class=\"col s12\">\n                <ul class=\"tabs tabs-fixed-width\">\n                  <li class=\"tab col s4\" ><a class=\"active\" style={{color: \"darkgreen\", fontSize: \"12px\"}} href=\"#proprietaryTab\">Mis&nbsp;Solicitudes</a></li>\n                  <li class=\"tab col s4\"><a href=\"#applicantTab\"  style={{color:\"darkgreen\", fontSize: \"12px\"}}>Mis&nbsp;Ofertas</a></li>\n                  <li class=\"tab col s4\"><a href=\"#closedTab\"  style={{color:\"darkgreen\", fontSize: \"12px\"}}>Cerradas</a></li>\n                </ul>\n              </div>\n              <div id=\"proprietaryTab\" class=\"col s12\">\n                <ul class=\"collection\">\n                  {applicantList}\n                </ul>\n              </div>\n              <div id=\"applicantTab\" class=\"col s12\">\n                <ul class=\"collection\">\n                  {proprietaryList}\n                </ul>\n              </div>\n              <div id=\"closedTab\" class=\"col s12\">\n                <ul class=\"collection\">\n                  {closedList}\n                </ul>\n              </div>\n            </div>\n\n        <div id=\"transaccionInfoModal\" class=\"modal\">\n          {modalContent}\n        </div>\n\n        <div id=\"confirmCancel\" class=\"modal\">\n          <div class=\"modal-content\">\n            <h4 class=\"center-align\">Cancelar transacción</h4>\n            <p class=\"center-align\">Si se ha abonado un pago por adelantado a modo de señal, al cancelar la transacción perderá la posibilidad de reclamarlo.</p>\n            <br/>\n            <p class=\"center-align\">¿Seguro que desea cancelar la transacción?</p>\n          </div>\n          <div class=\"modal-footer\">\n            <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" data-target=\"responseModal\" onClick={this.cancelTransaction}>Sí</a>\n            <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">No</a>\n          </div>\n        </div>\n\n        <div id=\"confirmAccept\" class=\"modal\">\n          <div class=\"modal-content\">\n            <h4 class=\"center-align\">Aceptar transacción</h4>\n            <p class=\"center-align\">¿Seguro que desea aceptar la transacción en los siguientes términos?</p>\n            <br/>\n            <p class=\"center-align\">Precio final: {this.props.displayedTransactions.inputFields.finalPayment}€</p>\n            <p class=\"center-align\">Señal: {Number(this.props.displayedTransactions.inputFields.finalPayment) * Number(this.props.displayedTransactions.inputFields.firstPayment)}€</p>\n            <p class=\"center-align\">Notas:<br/>{this.props.displayedTransactions.inputFields.proprietaryNotes}</p>\n            \n          </div>\n          <div class=\"modal-footer\">\n            <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" data-target=\"responseModal\" onClick={this.acceptTransaction}>Sí</a>\n            <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">No</a>\n          </div>\n        </div>\n\n        <div id=\"confirmReject\" class=\"modal\">\n          <div class=\"modal-content\">\n            <h4 class=\"center-align\">Rechazar transacción</h4>\n            <p class=\"center-align\">¿Seguro que desea rechazar la transacción?</p>\n          </div>\n          <div class=\"modal-footer\">\n            <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" data-target=\"responseModal\" onClick={this.rejectTransaction}>Sí</a>\n            <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">No</a>\n          </div>\n        </div>\n\n        <div id=\"confirmPayment\" class=\"modal\">\n          <div class=\"modal-content\">\n            <h4 class=\"center-align\">Realizar pago</h4>\n            <p class=\"center-align\">Redirigiendo a su plataforma de pago...</p>\n            <div class=\"progress\">\n                <div class=\"indeterminate\"></div>\n            </div>\n            <br/>\n            <br/>\n            <p>Esta pantalla simula el acceso a la plataforma de pago en este prototipo. ¿Continuar con el pago?</p>\n          </div>\n          <div class=\"modal-footer\">\n            {requiresFirstPayment == false?<a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" data-target=\"addPunctuation\">Sí</a>:<a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" onClick={this.payWithoutPunctuation} data-target=\"responseModal\">Sí</a>}\n            <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">No</a>\n          </div>\n        </div>\n\n        <div id=\"addPunctuation\" class=\"modal\">\n          <div class=\"modal-content\">\n            <h4 class=\"center-align\">Valoración del servicio</h4>\n            <p class=\"center-align\">¿Desea valorar el servicio prestado</p>\n            \n            <p class=\"range-field\">\n              <input type=\"range\" class=\"tooltipped\" data-position=\"top\" data-tooltip={this.props.displayedTransactions.inputFields.punctuation} min=\"0\" max=\"10\" name=\"punctuation\" onChange={this.updateTransaction}/>\n            </p>\n          </div>\n          <div class=\"modal-footer\">\n            <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat modal-trigger\" data-target=\"responseModal\" onClick={this.payWithPunctuation}>Valorar</a>\n            <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\" onClick={this.payWithoutPunctuation}>Omitir</a>\n          </div>\n        </div>\n\n        <div id=\"responseModal\" class=\"modal\">\n          <div class=\"modal-content\">\n            <h4 class=\"center-align\">Más información</h4>\n            <p class=\"center-align\">{this.props.displayedTransactions.responseMsg}</p>\n          </div>\n          <div class=\"modal-footer\">\n            <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">Cerrar</a>\n          </div>\n        </div>\n\n        <div id=\"eliminarMensaje\" class=\"modal\">\n          <div class=\"modal-content\">\n            <h4 class=\"center-align\">¿Eliminar la transacción?</h4>\n            <p class=\"center-align\">¿Seguro que quieres eliminar esta transacción del registro?</p>\n          </div>\n          <div class=\"modal-footer\">\n            <a href=\"#!\" onClick={this.deleteTransaction} class=\"modal-close waves-effect waves-green btn-flat\">Sí</a>\n            <a href=\"#!\" class=\"modal-close waves-effect waves-green btn-flat\">No</a>\n          </div>\n        </div>\n      </Main>\n    }\n    return(content)\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return ({\n    displayedServices: state.displayedServices,\n    displayedProfile: state.displayedProfile,\n    displayedMessages: state.displayedMessages,\n    displayedTransactions: state.displayedTransactions,\n    currentUser: state.currentUser,\n    auth: state.auth\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onSetTransactions: setTransactions,\n    onSetIndex: setTransactionsInteractionIndex,\n    onSetServerMessage: setServerMessage,\n    onUpdateTransactionInput: updateInput,\n    onResetInput: resetInput\n  }, dispatch); \n}\n\nexport default withCookies(connect(mapStateToProps, mapActionsToProps)(Transactions));","import SignIn from './SignIn';\nimport SignUp from './SignUp';\nimport Header from './page-elements/Header';\nimport Footer from './page-elements/Footer';\nimport Homepage from './Homepage';\nimport Service from './Service';\nimport ServiceCreation from './ServiceCreation'\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { setToken } from '../actions/auth-actions';\nimport { withCookies } from 'react-cookie';\nimport { setUser } from '../actions/user-actions';\nimport { updateDisplay } from '../actions/displayed-services-actions';\nimport AdvancedSearch from './AdvancedSearch';\nimport Profile from './Profile';\nimport Messages from './Messages';\nimport Transactions from './Transactions';\nconst host = require(\"../host\").host\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n\n    fetch(`${host}/services/search`, {\n      method: 'POST',\n      headers: { \n        'Accept': '*/*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        search: this.props.displayedServices.search,\n        page:this.props.displayedServices.page,\n        ipp: this.props.displayedServices.ipp\n      })\n    }).then(response => response.json()).then((e) => {\n        if (e.type === \"res\") {\n          this.props.onUpdateDisplay({\n            services: [...e.value],\n            page: 1\n          })\n        } else {\n          alert(e.value)\n        }\n\n      }).catch((e)=> {\n        console.log(e);\n    });\n    \n    let cookies = {};\n    if(!window.Android){\n      console.log(\"No se ha podido conectar correctamente con la interfaz de Android\")\n    } else {\n      cookies = JSON.parse(window.Android.readCookies());\n    }\n    let authToken = String(cookies.authToken);\n    let authUser = String(cookies.authUser);\n    if(authToken != \"\" && authUser != \"\" && authToken != undefined && authUser != undefined){\n      let requestOptions = {\n        method: 'GET',\n        headers: { \n          'Authorization': `Bearer ${authToken}`\n        }\n      }\n\n      fetch(`${host}/user`, requestOptions).then(response => response.json()).then((e) => {\n          if (e.type === \"res\") {\n            this.props.onSetUser(e);\n            this.props.onSetToken(authToken);\n          } else {\n            if(!window.Android){\n              console.log(\"No se ha podido conectar correctamente con la interfaz de Android\")\n            } else {\n              window.Android.writeCookies(JSON.stringify({\n                authToken: \"\",\n                authUser: \"\"\n              }));\n            }\n          }\n\n        }).catch((e)=> {\n          console.log(e);\n      });\n    } else {\n      if(!window.Android){\n        console.log(\"No se ha podido conectar correctamente con la interfaz de Android\")\n      } else {\n        window.Android.writeCookies(JSON.stringify({\n          authToken: \"\",\n          authUser: \"\"\n        }));\n      }\n    }\n  }\n\n  render() {\n    return (\n      <Router>\n        <Header />\n        <Routes>\n          <Route exact path=\"/\" element={<Homepage props={{username: this.props.currentUser.username}}/>} />\n          <Route path=\"/signin\" element={<SignIn props={{username: this.props.currentUser.username, redirect: this.props.displayedServices.homeredirect}}/>} />\n          <Route path=\"/signup\" element={<SignUp props={{username: this.props.currentUser.username, redirect: this.props.displayedServices.homeredirect}}/>} />\n          <Route path=\"/service\" element={<Service props={{username: this.props.currentUser.username}}/>} />\n          <Route path=\"/servicePost\" element={<ServiceCreation props={{username: this.props.currentUser.username, redirect: this.props.displayedServices.homeredirect}}/>} />\n          <Route path=\"/advancedSearch\" element={<AdvancedSearch props={{redirect: this.props.displayedServices.homeredirect}}/>} />\n          <Route path=\"/profilePage\" element={<Profile props={{redirect: this.props.displayedServices.homeredirect}}/>} />\n          <Route path=\"/messagesPage\" element={<Messages/>}/>\n          <Route path=\"/transactionsPage\" element={<Transactions/>}/>\n        </Routes>\n        <Footer />\n      </Router>\n    );\n  }\n\n}\n\n\nconst mapStateToProps = (state, props) => {\n  return ({\n    auth: state.auth,\n    currentUser: state.currentUser,\n    displayedServices: state.displayedServices\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onSetToken: setToken,\n    onSetUser: setUser,\n    onUpdateDisplay: updateDisplay\n  }, dispatch); \n}\n\nexport default withCookies(connect(mapStateToProps, mapActionsToProps)(App));\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { createStore, combineReducers } from 'redux';\nimport { Provider } from 'react-redux';\nimport currentUserReducer from './reducers/current-user-reducer';\nimport { CookiesProvider } from 'react-cookie'\nimport signUpReducer from './reducers/sign-up-reducer';\nimport signInReducer from './reducers/sign-in-reducer';\nimport authReducer from './reducers/auth-reducer';\nimport displayedServicesReducer from './reducers/displayed-services-reducer'\nimport servicePostReducer from './reducers/service-post-reducer';\nimport displayedProfileReducer from './reducers/displayed-profile-reducer';\nimport displayedMessagesReducer from './reducers/displayed-messages-reducer';\nimport displayedTransactionsReducer from './reducers/displayed-transactions-reducer';\n\nconst allReducers = combineReducers({\n  currentUser: currentUserReducer,\n  signIn: signInReducer,\n  signUp: signUpReducer,\n  auth: authReducer,\n  displayedServices: displayedServicesReducer,\n  servicePost: servicePostReducer,\n  displayedProfile: displayedProfileReducer,\n  displayedMessages: displayedMessagesReducer,\n  displayedTransactions: displayedTransactionsReducer\n}); \n\nconst store = createStore(allReducers, {\n  displayedMessages : {\n    newMessage: {\n      to: \"\",\n      subject: \"\",\n      message: \"\"\n    },\n    displayed: {},\n    interactionIndex: \":\",\n    received: [],\n    sent: [],\n    displayEditor: false\n  },\n  displayedTransactions : {\n    inputFields: {\n      aplicantNotes: \"\",\n      proprietaryNotes: \"\",\n      finalPayment: 0,\n      firstPayment: 0,\n      punctuation: 5,\n    },\n    responseMsg: \"\",\n    interactionIndex: 0,\n    transactions: []\n  },\n  displayedProfile : {\n    username : \"\", \n    fullname : \"\",\n    email : \"\",\n    registration : 0,\n    reviewNumber : 0,\n    reviewScore: 0,\n    icon: \"\",\n    description: \"\",\n    userServices: [],\n    newIcon: \"\",\n    newDescription: \"\"\n  },\n  currentUser: {\n    username : \"\",\n    fullname : \"\",\n    email : \"\",\n    registration : 0,\n    icon: \"\"\n  },\n  signIn: {\n    username : \"\",\n    password : \"\",\n    msg: \"\"\n  },\n  signUp: {\n    username : \"\",\n    password : \"\",\n    name: \"\",\n    secondname: \"\",\n    email : \"\", \n    passwordRepeat : \"\",\n    register: false,\n    validUser : \"\",\n    validPassword : \"\",\n    validEmail : \"\"\n  },\n  auth: {\n    authToken: \"\"\n  }, \n  displayedServices: {\n    services: [],\n    page: 0,\n    ipp: 20,\n    search: \"\",\n    filters: {\n      datefrom: \"\",\n      dateto: \"\",\n      pricefrom: \"\",\n      priceto: \"\",\n      priceType: \"\",\n      tags: {\n        \"Diseño web\": false,\n        \"Software\": false,\n        \"Traducción\": false,\n        \"Trámites legales\": false,\n        \"Redacción\": false,\n        \"Correcciones\": false,\n        \"Composición musical\": false,\n        \"Ilustración\": false,\n        \"Modelado 3D\": false,\n        \"Edición de vídeos\": false,\n        \"Edición de imágenes\": false,\n        \"Márketing\": false,\n        \"Asesoría\": false,\n        \"Idiomas\": false,\n        \"Otro\": false\n      }\n    },\n    displayedIcon: \"\",\n    displayed: {},\n    homeredirect: false\n  },\n  servicePost: {\n    serviceName: \"\",\n    serviceDescription: \"\",\n    images: [],\n    price: \"\",\n    priceType: \"Total\",\n    tags: {\n      \"Diseño web\": false,\n      \"Software\": false,\n      \"Traducción\": false,\n      \"Trámites legales\": false,\n      \"Redacción\": false,\n      \"Correcciones\": false,\n      \"Composición musical\": false,\n      \"Ilustración\": false,\n      \"Modelado 3D\": false,\n      \"Edición de vídeos\": false,\n      \"Edición de imágenes\": false,\n      \"Márketing\": false,\n      \"Asesoría\": false,\n      \"Idiomas\": false,\n      \"Otro\": false\n    },\n    finished: false\n  }\n},\n\nwindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n\n); \n\nReactDOM.render(\n  //<React.StrictMode>\n  <CookiesProvider>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </CookiesProvider>,\n  \n\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { LOG_OUT, SET_USER } from \"../actions/user-actions\";\n\nexport default function signUpReducer(state = {username : \"\",\nfullname : \"\",\nemail : \"\",\nregistration : 0,\nicon : \"\"}, {type, payload}) {\n  switch (type) {\n    case SET_USER:\n      return(payload);\n    \n    case LOG_OUT: \n      return({\n        username : \"\",\n        fullname : \"\",\n        email : \"\",\n        registration : 0,\n        icon : \"\"\n      });\n  \n    default:\n      return(state);\n  }\n} ","import { UPDATE_SI_FORM, RESET_SI_FORM, UPDATE_SI_MSG } from '../actions/sign-in-actions'\n\nexport default function signInReducer(state = {username : \"\",\npassword : \"\",\nmsg: \"\"}, {type, payload}) {\n  let newState = {};\n  switch (type) {\n    case UPDATE_SI_FORM:\n      newState = {...state};\n      if(newState[payload.name] != undefined){\n        newState[payload.name] = payload.value;\n      }\n      return(newState);\n\n    case RESET_SI_FORM:\n      return({\n        username : \"\",\n        password : \"\",\n        msg: \"\"\n      });\n    \n    case UPDATE_SI_MSG:\n      newState = {...state};\n      newState.msg = payload.msg;\n      return(newState);\n    \n    default:\n      return(state);\n  }\n} ","import { UPDATE_SU_FORM, RESET_SU_FORM, UPDATE_SU_MSG } from \"../actions/sign-up-actions\";\n\nexport default function signUpReducer(state = {username : \"\",\npassword : \"\",\nemail : \"\",\nname: \"\",\nsecondname: \"\", \npasswordRepeat : \"\",\nregister: false,\nvalidUser : \"\",\nvalidPassword : \"\",\nvalidEmail : \"\" }, {type, payload}) {\n  let newState = {};\n  switch (type) {\n    case UPDATE_SU_FORM:\n      newState = {...state};\n      if(newState[payload.name] != undefined){\n        newState[payload.name] = payload.value;\n      }\n      return(newState);\n\n    case RESET_SU_FORM:\n      return({\n        username : \"\",\n        password : \"\",\n        email : \"\", \n        passwordRepeat : \"\",\n        register: false,\n        validUser : \"\",\n        validPassword : \"\",\n        validEmail : \"\"\n      });\n    \n    case UPDATE_SU_MSG:\n      newState = {...state};\n      newState.validUser = payload.validUser === undefined ? newState.validUser : payload.validUser;\n      newState.validPassword = payload.validPassword === undefined ? newState.validPassword : payload.validPassword;\n      newState.validEmail = payload.validEmail === undefined ? newState.validEmail : payload.validEmail;\n      return(newState);\n    \n    default:\n      return(state); \n  }\n} ","import { SET_TOKEN } from \"../actions/auth-actions\";\n\nexport default function authReducer(state = {authToken: \"\"}, {type, payload}) {  \n  if (type == SET_TOKEN) {\n    return(payload);\n  } else {\n    return(state);\n  }\n} ","import { UPDATE_DS_DISPLAY, ADD_DS_CONTENT, UPDATE_DS_SEARCH, RESET_DS_SEARCH, UPDATE_DS_SERVICE, SET_REDIRECT, UPDATE_DS_FILTERS_TAGS, UPDATE_DS_FILTERS, RESET_DS_FILTERS, SET_DS_SERVICE, SET_PFP } from '../actions/displayed-services-actions'\n\nexport default function displayedServicesReducer(state = {\n    services: [],\n    page: 0,\n    ipp: 20,\n    search: \"\",\n    filters: {\n      datefrom: \"\",\n      dateto: \"\",\n      pricefrom: \"\",\n      priceto: \"\",\n      priceType: \"\",\n      tags: {\n        \"Diseño web\": false,\n        \"Software\": false,\n        \"Traducción\": false,\n        \"Trámites legales\": false,\n        \"Redacción\": false,\n        \"Correcciones\": false,\n        \"Composición musical\": false,\n        \"Ilustración\": false,\n        \"Modelado 3D\": false,\n        \"Edición de vídeos\": false,\n        \"Edición de imágenes\": false,\n        \"Márketing\": false,\n        \"Asesoría\": false,\n        \"Idiomas\": false,\n        \"Otro\": false\n      }\n    },\n    displayedIcon: \"\",\n    displayed: {},\n    homeredirect: false}, {type, payload}) {\n  let newState = {};\n  switch (type) {\n    case UPDATE_DS_DISPLAY:\n      newState = {\n        services: [],\n        page: 0,\n        ipp: 20,\n        search: \"\",\n        filters: {\n          datefrom: \"\",\n          dateto: \"\",\n          pricefrom: \"\",\n          priceto: \"\",\n          priceType: \"\",\n          tags: {\n            \"Diseño web\": false,\n            \"Software\": false,\n            \"Traducción\": false,\n            \"Trámites legales\": false,\n            \"Redacción\": false,\n            \"Correcciones\": false,\n            \"Composición musical\": false,\n            \"Ilustración\": false,\n            \"Modelado 3D\": false,\n            \"Edición de vídeos\": false,\n            \"Edición de imágenes\": false,\n            \"Márketing\": false,\n            \"Asesoría\": false,\n            \"Idiomas\": false,\n            \"Otro\": false\n          }\n        },\n        displayedIcon: \"\",\n        displayed: {},\n        homeredirect: false\n      };\n      let aux = {...payload};\n      if(Array.isArray(aux.services)){\n        newState.services = [...aux.services];    \n      }\n      if(aux.search != undefined)\n        newState.search = String(aux.search);\n      if(aux.page != undefined)\n        newState.page = Number(aux.page);\n      if(aux.ipp != undefined)\n        newState.ipp = aux.ipp;\n      if(aux.homeredirect != undefined)\n        newState.homeredirect = aux.homeredirect;\n      if(aux.filters != undefined)\n        newState.filters = {...aux.filters};\n      \n      return(newState);\n    \n    case ADD_DS_CONTENT:\n      newState = {...state}\n      if(Array.isArray(payload.services)) {\n        for(let i in payload.services){\n          newState.services.push({...payload.services[i]})\n        }\n      }\n      newState.page ++;\n      return(newState);\n\n    case UPDATE_DS_SEARCH:\n      newState = {...state}\n      newState.search = payload.search\n      return(newState);\n\n    case RESET_DS_SEARCH:\n      newState = {...state}\n      newState.search = \"\";\n      return(newState);\n\n    case UPDATE_DS_SERVICE:\n      newState = {...state}\n      if(payload._id == \"\") {\n        newState.displayed = {}\n      } else {\n        for(let i in newState.services) {\n          if(newState.services[i]._id == payload._id) {\n            newState.displayed = {...newState.services[i]}\n          }\n        }\n      }\n      return(newState);\n\n    case SET_REDIRECT:\n      newState = {...state}\n      newState.homeredirect = payload\n      return(newState);\n    \n    case UPDATE_DS_FILTERS:\n      newState = {...state};\n      if(newState.filters[payload.name] != undefined){\n        newState.filters[payload.name] = payload.value;\n      }\n      return(newState);\n\n    case RESET_DS_FILTERS:\n      newState = {...state};\n      newState.filters = {\n        datefrom: \"\",\n        dateto: \"\",\n        pricefrom: \"\",\n        priceto: \"\",\n        priceType: \"\",\n        tags: {\n          \"Diseño web\": false,\n          \"Software\": false,\n          \"Traducción\": false,\n          \"Trámites legales\": false,\n          \"Redacción\": false,\n          \"Correcciones\": false,\n          \"Composición musical\": false,\n          \"Ilustración\": false,\n          \"Modelado 3D\": false,\n          \"Edición de vídeos\": false,\n          \"Edición de imágenes\": false,\n          \"Márketing\": false,\n          \"Asesoría\": false,\n          \"Idiomas\": false,\n          \"Otro\": false\n        }\n      }\n      return(newState);\n      \n    case UPDATE_DS_FILTERS_TAGS:\n      newState = {...state}\n      if(payload.name != undefined && payload.value != undefined) {\n        newState.filters.tags[payload.name] = payload.value\n      }\n      return newState\n\n    case SET_PFP:\n      newState = {...state};\n      newState.displayedIcon = payload.img;\n      return newState;\n\n    case SET_DS_SERVICE:\n      newState = {...state}\n      newState.displayed = {...payload}\n      return newState\n\n    default:\n      return(state);\n  }\n}","import { UPDATE_SP_FORM, RESET_SP_FORM, ADD_SP_IMAGE, RESET_SP_IMAGE, CHANGE_TAG } from \"../actions/service-post-actions\";\n\nexport default function servicePostReducer(state = {serviceName: \"\",\nserviceDescription: \"\",\nimages: [],\nprice: \"\",\npriceType: \"Total\",\ntags: {\n  \"Diseño web\": false,\n  \"Software\": false,\n  \"Traducción\": false,\n  \"Trámites legales\": false,\n  \"Redacción\": false,\n  \"Correcciones\": false,\n  \"Composición musical\": false,\n  \"Ilustración\": false,\n  \"Modelado 3D\": false,\n  \"Edición de vídeos\": false,\n  \"Edición de imágenes\": false,\n  \"Márketing\": false,\n  \"Asesoría\": false,\n  \"Idiomas\": false,\n  \"Otro\": false\n},\nfinished: false}, {type, payload}) {\n  let newState = {};\n  switch (type) {\n    case UPDATE_SP_FORM:\n      newState = {...state};\n      if(newState[payload.name] != undefined){\n        newState[payload.name] = payload.value;\n      }\n      return(newState);\n\n    case RESET_SP_FORM:\n      return({\n        serviceName: \"\",\n        serviceDescription: \"\",\n        images: [],\n        price: \"\",\n        priceType: \"Total\",\n        tags: {\n          \"Diseño web\": false,\n          \"Software\": false,\n          \"Traducción\": false,\n          \"Trámites legales\": false,\n          \"Redacción\": false,\n          \"Correcciones\": false,\n          \"Composición musical\": false,\n          \"Ilustración\": false,\n          \"Modelado 3D\": false,\n          \"Edición de vídeos\": false,\n          \"Edición de imágenes\": false,\n          \"Márketing\": false,\n          \"Asesoría\": false,\n          \"Idiomas\": false,\n          \"Otro\": false\n        },\n        finished: false\n      });\n    \n    case ADD_SP_IMAGE:\n      newState = {...state};\n      if(payload.img != undefined) {\n          newState.images = payload.img\n      }\n      return(newState);\n\n    case RESET_SP_IMAGE:\n      newState = {...state};\n      newState.images = []\n      return(newState);\n\n    case CHANGE_TAG:\n      newState = {...state}\n      if(payload.name != undefined && payload.value != undefined) {\n        newState.tags[payload.name] = payload.value\n      }\n      return newState\n    \n    default:\n      return(state);\n  }\n} ","import { RESET_PROFILE, SET_PROFILE } from \"../actions/displayed-profile-actions\";\n\nexport default function displayedProfileReducer(state = {\n    username : \"\", \n    fullname : \"\",\n    email : \"\",\n    registration : 0,\n    reviewNumber : 0,\n    reviewScore: 0,\n    icon: \"\",\n    description: \"\",\n    newIcon: \"\",\n    newDescription: \"\"}, {type, payload}) {\n  let newState = {};\n  switch (type) {\n    case SET_PROFILE:\n      newState = {\n        username : \"\", \n        fullname : \"\",\n        email : \"\",\n        registration : 0,\n        reviewNumber : 0,\n        reviewScore: 0,\n        icon: \"\",\n        description: \"\",\n        userServices: [],\n        newIcon: \"\",\n        newDescription: \"\"\n      };\n      \n      for(let i in newState) {\n        newState[i] = payload[i]\n      }\n      return(newState)\n\n    case RESET_PROFILE:\n      return({\n        username : \"\", \n        fullname : \"\",\n        email : \"\",\n        registration : 0,\n        reviewNumber : 0,\n        reviewScore: 0,\n        icon: \"\",\n        description: \"\",\n        userServices: [],\n        newIcon: \"\",\n        newDescription: \"\"\n      });\n\n    default:\n      return(state);\n  }\n}","import { RESET_DM_ALL, RESET_DM_MESSAGE, SET_DM_DISPLAYED, SET_DM_EDITOR, SET_DM_INDEX, SET_DM_RECEIVED, SET_DM_SENT, UPDATE_DM_MESSAGE } from \"../actions/displayed-messages-actions\";\n\nexport default function displayedMessagesReducer(state = {\n  newMessage: {\n    to: \"\",\n    subject: \"\",\n    message: \"\"\n  },\n  received: [],\n  sent: [],\n  displayed: {},\n  interactionIndex: \":\",\n  displayEditor: false}, {type, payload}) {\n  let newState = {};\n  switch (type) {\n    case UPDATE_DM_MESSAGE:\n      newState = {...state};\n      if(newState.newMessage[payload.name] != undefined){\n        newState.newMessage[payload.name] = payload.value;\n      }\n      return(newState);\n\n    case RESET_DM_MESSAGE:\n      newState = {...state};\n      newState.newMessage = {};\n      return(newState);\n\n    case SET_DM_RECEIVED:\n      newState = {...state};\n      newState.received = [...payload];\n      return(newState);\n\n    case SET_DM_SENT:\n      newState = {...state};\n      newState.sent = [...payload];\n      return(newState);\n\n    case SET_DM_EDITOR:\n      newState = {...state};\n      newState.displayEditor = payload;\n      return(newState);\n\n    case RESET_DM_ALL:\n      return({\n        newMessage: {\n          to: \"\",\n          subject: \"\",\n          message: \"\"\n        },\n        received: [],\n        sent: [],\n        displayed: {},\n        interactionIndex:  \":\",\n        displayEditor: false\n      });\n\n    case SET_DM_INDEX:\n      newState = {...state};\n      newState.interactionIndex = payload;\n      return(newState)\n\n    case SET_DM_DISPLAYED:\n      newState = {...state};\n      let codeSource = payload.split(\":\")[0];\n      let codeIndex = Number(payload.split(\":\")[1]);\n      if(codeIndex >= 0) {\n        if(codeSource == \"sent\" && codeIndex < state.sent.length) {\n          newState.displayed = {...state.sent[codeIndex]}\n        } else if (codeSource == \"received\" && codeIndex < state.received.length) {\n          newState.displayed = {...state.received[codeIndex]}\n        }\n      }\n      return(newState)\n\n    default:\n      return(state);\n  }\n}","import { RESET_DT_ALL, RESET_DT_INPUT, SET_DT_INDEX, SET_DT_MESSAGE, SET_DT_TRANSACTIONS, UPDATE_DT_INPUT } from \"../actions/displayed-transactions-actions\";\n\nexport default function displayedTransactionsReducer(state = {\n  inputFields: {\n    aplicantNotes: \"\",\n    proprietaryNotes: \"\",\n    finalPayment: 0,\n    firstPayment: 0,\n  punctuation: 5,\n  },\n  responseMsg: \"\",\n  interactionIndex: 0,\n  transactions: []}, {type, payload}) {\n  let newState = {};\n  switch (type) {\n    case UPDATE_DT_INPUT:\n      newState = {...state};\n      if(newState.inputFields[payload.name] != undefined){\n        newState.inputFields[payload.name] = payload.value;\n      }\n      return(newState);\n\n    case RESET_DT_INPUT:\n      newState = {...state};\n      newState.inputFields = {aplicantNotes: \"\",\n      proprietaryNotes: \"\",\n      finalPayment: 0,\n      firstPayment: 0,\n      punctuation: 5};\n      return(newState);\n\n    case SET_DT_MESSAGE:\n      newState = {...state};\n      newState.responseMsg = payload;\n      return(newState);\n\n    case SET_DT_TRANSACTIONS:\n      newState = {...state};\n      newState.transactions = [...payload];\n      return(newState);\n\n    case RESET_DT_ALL:\n      return({\n        inputFields: {\n          aplicantNotes: \"\",\n          proprietaryNotes: \"\",\n          finalPayment: 0,\n          firstPayment: 0,\n        punctuation: 5,\n        },\n        responseMsg: \"\",\n        interactionIndex: 0,\n        transactions: []\n      });\n\n    case SET_DT_INDEX:\n      newState = {...state};\n      console.log(payload)\n      newState.interactionIndex = Number(payload);\n      return(newState)\n\n    default:\n      return(state);\n  }\n}"],"sourceRoot":""}