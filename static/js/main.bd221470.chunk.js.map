{"version":3,"sources":["actions/sign-in-actions.js","actions/user-actions.js","actions/auth-actions.js","components/page-elements/LoginForm.js","components/page-elements/Main.js","components/SignIn.js","actions/sign-up-actions.js","components/page-elements/SignUpForm.js","components/SignUp.js","actions/displayed-services-actions.js","components/page-elements/Header.js","components/page-elements/Footer.js","components/page-elements/ServiceCard.js","components/Homepage.js","components/Service.js","actions/service-post-actions.js","components/page-elements/ServiceForm.js","components/ServiceCreation.js","components/App.js","reportWebVitals.js","index.js","reducers/current-user-reducer.js","reducers/sign-in-reducer.js","reducers/sign-up-reducer.js","reducers/auth-reducer.js","reducers/displayed-services-reducer.js","reducers/service-post-reducer.js"],"names":["UPDATE_SI_FORM","RESET_SI_FORM","UPDATE_SI_MSG","updateSignInForm","event","type","payload","name","target","value","resetSignInForm","updateSignInMessage","message","msg","SET_USER","LOG_OUT","setUser","user","username","fullname","email","registration","logOut","SET_TOKEN","setToken","token","authToken","LoginForm","props","handleChange","bind","handleClick","handleKeyPress","e","key","this","console","log","onUpdateSignInForm","chain","signIn","password","b64chain","window","btoa","unescape","encodeURIComponent","cookies","requestOptions","method","headers","fetch","then","response","json","status","onUpdateSignInMessage","onSetUser","set","path","onSetToken","get","catch","alert","M","updateTextFields","class","style","fontSize","placeholder","id","onChange","for","onKeyPress","onClick","React","Component","withCookies","connect","state","currentUser","auth","dispatch","bindActionCreators","onResetSignInForm","onLogOut","Main","minHeight","marginTop","marginBottom","marginLeft","marginRight","width","backgroundColor","boxShadow","children","SignIn","redirect","to","UPDATE_SU_FORM","RESET_SU_FORM","UPDATE_SU_MSG","updateSignUpForm","resetSignUpForm","updateSignUpMessage","validUser","validPassword","validEmail","SignUpForm","onUpdateSignUpForm","onUpdateSignUpMessage","validQuery","inputregex","signUp","length","test","passwordRepeat","secondName","userFullname","body","JSON","stringify","String","undefined","register","content","login","onResetSignUpForm","SignUp","UPDATE_DS_DISPLAY","ADD_DS_CONTENT","UPDATE_DS_SEARCH","RESET_DS_SEARCH","UPDATE_DS_SERVICE","SET_REDIRECT","updateDisplay","addContent","services","updateSearch","search","resetSearch","updateDisplayedService","_id","setRedirect","bool","Header","renderContent","handleButton","onUpdateSearch","searchtext","displayedServices","ipp","onUpdateDisplay","page","homeredirect","document","addEventListener","elems","querySelectorAll","Sidenav","init","preventScrolling","onSetRedirect","notlogged","href","logged","Footer","paddingTop","ServiceCard","serviceInfo","elementInfo","img","images","split","src","serviceName","serviceDesc","postedBy","Homepage","handleRedirect","element","onUpdateDisplayedService","onAddContent","items","i","push","contentloader","onResetSearch","Service","elems2","Slider","height","Materialbox","dispimages","dispvideos","displayed","videos","carousel","str","aux","decodeURIComponent","escape","atob","UPDATE_SP_FORM","RESET_SP_FORM","ADD_SP_IMAGE","RESET_SP_IMAGE","updateServiceForm","resetServiceForm","addImage","resetImage","ServiceForm","instances","handleImageUpload","that","onResetImage","files","reader","FileReader","readAsDataURL","onloadend","result","onAddImage","onUpdateServiceForm","servicePost","serviceDescription","image","open","Modal","multiple","close","onResetServiceForm","ServiceCreation","App","authUser","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","allReducers","combineReducers","newState","secondname","Array","isArray","Number","finished","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","CookiesProvider","getElementById"],"mappings":"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","file":"static/js/main.bd221470.chunk.js","sourcesContent":["export const UPDATE_SI_FORM = 'signIn:updateSignInForm';\nexport const RESET_SI_FORM = 'signIn:resetSignInForm';\nexport const UPDATE_SI_MSG = 'signIn:updateSignInMessage';\n\nexport function updateSignInForm(event) {\n  return ({\n    type: UPDATE_SI_FORM,\n    payload: {\n      name: event.target.name,\n      value: event.target.value\n    }\n  });\n}\n\nexport function resetSignInForm() {\n  return ({\n    type: RESET_SI_FORM,\n    payload: { }\n  });\n}\n\nexport function updateSignInMessage(message) {\n  return ({\n    type: UPDATE_SI_MSG,\n    payload: {\n      msg: message\n    }\n  });\n}","export const SET_USER = 'currentUser:setUser'; \nexport const LOG_OUT = 'currentUser:logOut'; \n\nexport function setUser(user) {\n  return ({\n    type: SET_USER,\n    payload: {\n      username : user.username ? user.username : \"\",\n      fullname : user.fullname ? user.fullname : \"\",\n      email : user.email ? user.email : \"\",\n      registration : user.registration ? user.registration : 0\n    }\n  });\n}\n\nexport function logOut() {\n  return ({\n    type: LOG_OUT,\n    payload: { }\n  });\n}","export const SET_TOKEN = 'auth:setToken';\n\nexport function setToken(token) {\n  return ({\n    type: SET_TOKEN,\n    payload: {\n      authToken: token\n    }\n  });\n}","import React from \"react\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { updateSignInForm, resetSignInForm, updateSignInMessage } from '../../actions/sign-in-actions'\nimport { setUser, logOut } from '../../actions/user-actions'\nimport { withCookies } from \"react-cookie\";\nimport { setToken } from \"../../actions/auth-actions\";\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\n\nexport class LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n  }\n\n  handleKeyPress(e) {\n    if(e.key === \"Enter\") {\n      this.handleClick();\n    }\n  }\n\n  handleChange(e) {\n    console.log(e)\n    this.props.onUpdateSignInForm(e);\n  }\n\n  handleClick() {\n    let chain = this.props.signIn.username + \":\" + this.props.signIn.password\n    let b64chain = window.btoa(unescape(encodeURIComponent( chain )));\n    const { cookies } = this.props;\n\n    let requestOptions = {\n      method: 'POST',\n      headers: { \n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Basic ${b64chain}`\n      }\n    }\n\n    fetch(\"/users/auth\", requestOptions).then(response => response.json()).then((e) => {\n        if (e.status === \"true\") {\n          this.props.onUpdateSignInMessage(\"\");\n          this.props.onSetUser(e);\n          if(e.authToken) {\n            cookies.set(\"authToken\", e.authToken, {path: \"/\"}); \n            cookies.set(\"authUser\", e.username, {path: \"/\"});\n            this.props.onSetToken(cookies.get(\"authToken\"));\n          }\n        } else {\n          this.props.onUpdateSignInMessage(e.msg);\n        }\n\n      }).catch((e)=> {\n        alert(e);\n    });\n  }\n\n  componentDidMount() {\n    M.updateTextFields();\n  }\n\n  render() {\n      return (\n        <div class=\"container\">\n          <h1 class=\"center\" style={{fontSize: \"30px\"}}>Inicio de sesión</h1>\n          <div class=\"row\">\n            <form class=\"col s12\">\n              <div class=\"row\">\n                <div class=\"input-field col s12\">\n                  <input placeholder=\"Introduzca su usuario\" id=\"usuario\" type=\"text\" name=\"username\" class=\"\" onChange={this.handleChange}/>\n                  <label for=\"usuario\">Usuario</label>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"input-field col s12\">\n                  <input placeholder=\"Introduzca su contraseña\" id=\"contrasena\" type=\"password\" name=\"password\" class=\"\" onChange={this.handleChange} onKeyPress={this.handleKeyPress}/>\n                  <label for=\"contrasena\">Contraseña</label>\n                  <span class=\"helper-text\">{this.props.signIn.msg}</span>\n                </div>\n              </div>\n            </form>\n            <br/>\n            <div class=\"row\">\n              <a class=\"waves-effect waves-light btn col s12\" onClick={this.handleClick}>Iniciar sesión</a>\n            </div>\n          </div>\n        </div>\n    );/*\n    return (\n      <form className=\"Login\">\n        <h2 style={{\n          color: \"white\"\n        }}>Introduzca sus datos:</h2>\n        <input type=\"text\" placeholder=\"Usuario\" name=\"username\" onChange={this.handleChange}></input>\n        <input type=\"password\" placeholder=\"Contraseña\" name= \"password\" onChange={this.handleChange} onKeyPress={this.handleKeyPress}></input>\n        <button type=\"button\" className=\"greenbutton\" onClick={this.handleClick}>Enviar</button>\n        <br></br>\n        <p>{this.props.signIn.msg}</p>\n      </form>      \n    );*/\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return ({\n    currentUser: state.currentUser,\n    signIn: state.signIn,\n    auth: state.auth\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onUpdateSignInForm: updateSignInForm,\n    onResetSignInForm: resetSignInForm,\n    onUpdateSignInMessage: updateSignInMessage,\n    onSetUser: setUser,\n    onLogOut: logOut,\n    onSetToken: setToken\n  }, dispatch); \n}\n\nexport default withCookies(connect(mapStateToProps, mapActionsToProps)(LoginForm));","import React from \"react\";\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\n\nfunction Main(props) {\n    let mainStyles = {\n        minHeight: \"80vh\",\n        marginTop: \"5vh\",\n        marginBottom: \"5%\",\n        marginLeft: \"10%\",\n        marginRight: \"10%\",\n        width: \"80%\",\n        backgroundColor: \"white\",\n        boxShadow: \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\"\n    } \n\n    return (\n        <div style={mainStyles}>\n            {props.children}\n        </div>\n    );\n}\n\nexport default Main;","import React from 'react';\nimport LoginForm from \"./page-elements/LoginForm\";\nimport Main from \"./page-elements/Main\";\nimport { Navigate } from 'react-router'\n\nfunction SignIn(props) {\n  if(props.props.username === \"\" && props.props.redirect == false){\n    return (\n      <div>\n        <Main>\n          <br />\n          <LoginForm />\n        </Main>\n      </div>\n    );\n  } else {\n    return(<Navigate to=\"/\"/>)\n  }\n}\n\nexport default SignIn;","export const UPDATE_SU_FORM = 'signUp:updateSignUpForm';\nexport const RESET_SU_FORM = 'signUp:resetSignUpForm';\nexport const UPDATE_SU_MSG = 'signUp:updateSignUpMessage';\n\nexport function updateSignUpForm(event) {\n  return ({\n    type: UPDATE_SU_FORM,\n    payload: {\n      name: event.target.name,\n      value: event.target.value\n    }\n  });\n}\n\nexport function resetSignUpForm() {\n  return ({\n    type: RESET_SU_FORM,\n    payload: { }\n  });\n}\n\nexport function updateSignUpMessage(message) {\n  return ({\n    type: UPDATE_SU_MSG,\n    payload: {\n      validUser : message.validUser,\n      validPassword : message.validPassword,\n      validEmail : message.validEmail\n    }\n  });\n}","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport \"../../index.css\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { updateSignUpForm, resetSignUpForm, updateSignUpMessage } from '../../actions/sign-up-actions';\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\n\nexport class SignUpForm extends React.Component {\n  constructor() {\n    super();\n  \n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleChange(e) {   \n    this.props.onUpdateSignUpForm(e);\n  }\n\n  handleClick() { \n    this.props.onUpdateSignUpMessage({\n      validUser: \"\",\n      validPassword: \"\",\n      validEmail: \"\"\n    });\n    \n    let validQuery = true;\n    let inputregex = /[^a-z0-9]/i;\n    let emailregex = /^([a-z]|\\d)+@([a-z]|\\d)+(\\.([a-z][a-z])+)+/i;\n    if(this.props.signUp.username.length <= 5) { \n      this.props.onUpdateSignUpMessage({validUser: \"El nombre de usuario debe contener al menos 6 caracteres\"});\n      validQuery = false;\n    }\n    \n    if(inputregex.test(this.props.signUp.username)){\n      this.props.onUpdateSignUpMessage({validUser: \"El nombre de usuario no debe contener caracteres especiales\"});\n      validQuery = false;\n    }\n\n    if(this.props.signUp.password.length <= 5) { \n      this.props.onUpdateSignUpMessage({validPassword: \"La contraseña debe contener al menos 6 caracteres\"});\n      validQuery = false;\n    }\n    if(inputregex.test(this.props.signUp.password)){\n      this.props.onUpdateSignUpMessage({validPassword: \"La contraseña no debe contener caracteres especiales\"});\n      validQuery = false;\n    }\n\n    if(this.props.signUp.password !== this.props.signUp.passwordRepeat){\n      this.props.onUpdateSignUpMessage({validPassword: \"La contraseña no coincide\"});\n      validQuery = false;\n    }\n    \n    if (!emailregex.test(this.props.signUp.email)) {\n      this.props.onUpdateSignUpMessage({validEmail: \"Introduzca un correo con formato válido: examplemail@example.com\"});\n      validQuery = false;\n    }\n\n    if(this.props.signUp.name == \"\" || this.props.signUp.secondName == \"\") {\n      this.props.onUpdateSignUpMessage({validUser: \"Introduzca nombre y apellidos en los campos correspondientes\"});\n      validQuery = false;\n    }\n\n    if(validQuery) {\n      let userFullname = this.props.signUp.name + \" \" + this.props.signUp.secondName;\n      let requestOptions = {\n        method: 'POST',\n        headers: { \n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }, \n        body: JSON.stringify({ \n          \"username\": this.props.signUp.username ? String(this.props.signUp.username) : undefined,\n          \"password\": this.props.signUp.password ? String(this.props.signUp.password) : undefined,\n          \"fullname\": userFullname,\n          \"email\": this.props.signUp.email ? String(this.props.signUp.email) : undefined\n        })\n      }\n//\n      fetch(\"/users\", requestOptions).then(response => response.json()).then((e) => {\n          console.log(e);\n          if(e.type === \"res\") {\n            this.props.onUpdateSignUpForm({\n              target: {\n                name: \"register\",\n                value: e.register === \"true\" ? true : false\n              }\n              \n            });\n\n            this.props.onUpdateSignUpMessage({\n              validUser: e.validUser ? e.validUser : \"\",\n              validPassword: e.validPassword ? e.validPassword : \"\",\n              validEmail: e.validEmail ? e.validEmail : \"\"\n            });\n\n          } else {\n            alert(e.msg)\n          }\n        }).catch((e)=> {\n          alert(e);\n      });\n    }\n  }\n\n  componentDidMount() {\n    M.updateTextFields();\n  }\n\n  render() {\n    let errStyle = {\n      color: \"red\"\n    }\n\n/*    let content = <div>\n        <br/>\n        <form className=\"Login\">\n          <h2>Introduzca sus datos:</h2>\n          <input type=\"text\" placeholder=\"Usuario\" name=\"username\" onChange={this.handleChange} />\n          <p style={errStyle}>{this.props.signUp.validUser}</p>\n          <input type=\"text\" placeholder=\"Correo electrónico\" name= \"email\" onChange={this.handleChange}/>\n          <p style={errStyle}>{this.props.signUp.validEmail}</p>\n          <input type=\"password\" placeholder=\"Contraseña\" name= \"password\" onChange={this.handleChange}/>\n          <input type=\"password\" placeholder=\"Repetir contraseña\" name= \"passwordRepeat\" onChange={this.handleChange}/>\n          <p style={errStyle}>{this.props.signUp.validPassword}</p>\n\n          <button type=\"button\" className=\"greenbutton\" onClick={this.handleClick}>Registrarme</button>\n          <br></br>\n          <p>{this.props.signUp.msg}</p>\n        </form>\n      </div>\n\n    let login = <div>\n        <h1>Usted ha sido registrado satisfactoriamente</h1>\n        <NavLink to=\"/signin\"><button>Iniciar sesión</button></NavLink>\n      </div>*/\n\n    let content = \n    <div class=\"container\">\n      <br/>\n      <h1 class=\"center\" style={{fontSize: \"30px\"}}>Formulario de registro</h1>\n      <div class=\"row\">\n        <form class=\"col s12\">\n          <div class=\"row\">\n            <div class=\"input-field col s12 m6 l6\">\n              <input placeholder=\"Introduzca su usuario\" id=\"usuario\" type=\"text\" name=\"username\" class=\"\" onChange={this.handleChange}/>\n              <label for=\"usuario\">Usuario</label>\n              <span class=\"helper-text\">{this.props.signUp.validUser}</span>\n            </div>\n            <div class=\"input-field col s12 m6 l6\">\n              <input placeholder=\"Introduzca su correo\" id=\"correo\" type=\"text\" name=\"email\" class=\"\" onChange={this.handleChange} />\n              <label for=\"correo\">Correo electrónico</label>\n              <span class=\"helper-text\">{this.props.signUp.validEmail}</span>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"input-field col s12 m6 l6\">\n              <input placeholder=\"Introduzca su nombre\" id=\"name\" type=\"text\" name=\"name\" class=\"\" onChange={this.handleChange} />\n              <label for=\"correo\">Nombre</label>\n            </div>\n            <div class=\"input-field col s12 m6 l6\">\n              <input placeholder=\"Introduzca sus apellidos\" id=\"secondname\" type=\"text\" name=\"secondname\" class=\"\" onChange={this.handleChange} />\n              <label for=\"secondname\">Apellidos</label>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"input-field col s12\">\n              <input placeholder=\"Introduzca su contraseña\" id=\"contrasena\" type=\"password\" name=\"password\" class=\"\" onChange={this.handleChange}/>\n              <label for=\"contrasena\">Contraseña</label>\n              <span class=\"helper-text\">{this.props.signUp.validPassword}</span>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"input-field col s12\">\n              <input placeholder=\"Repita la contraseña\" id=\"contrasenarep\" type=\"password\" name=\"passwordRepeat\" class=\"\" onChange={this.handleChange}/>\n              <label for=\"contrasenarp\">Repita la contraseña</label>\n            </div>\n          </div>          \n        </form>\n        <br/>\n        <div class=\"row\">\n          <a class=\"waves-effect waves-light btn col s12\" onClick={this.handleClick}>Registrarme en el sitio</a>\n        </div>\n      </div>\n    </div>\n\n    let login =\n    <div class=\"container\">\n      <br/>\n      <h1 class=\"center\" style={{fontSize: \"30px\"}}>Usted ha sido registrado satisfactoriamente</h1>\n      <div class=\"row\">\n        <div class=\"col s12\">\n          <NavLink to=\"/signin\"><a class=\"waves-effect waves-light btn col s12\">Iniciar sesión</a></NavLink>\n        </div>\n      </div>\n    </div>\n\n    return (\n      this.props.signUp.register?login:content\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return ({  \n    signUp: state.signUp\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onUpdateSignUpForm: updateSignUpForm,\n    onResetSignUpForm: resetSignUpForm,\n    onUpdateSignUpMessage: updateSignUpMessage\n  }, dispatch); \n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(SignUpForm);","import React from 'react';\nimport Main from \"./page-elements/Main\";\nimport SignUpForm from \"./page-elements/SignUpForm\";\nimport { Navigate } from 'react-router'\n\nfunction SignUp(props) {\n  if(props.props.username === \"\" && props.props.redirect == false){\n    return (\n      <div>\n        <Main>\n          <SignUpForm />\n        </Main>\n      </div>\n    );\n  } else {\n    return(<Navigate to=\"/\"/>)\n  }\n}\n\nexport default SignUp;","export const UPDATE_DS_DISPLAY = 'displayedServices:updateDisplay';\nexport const ADD_DS_CONTENT = 'displayedServices:addContent';\nexport const UPDATE_DS_SEARCH = 'displayedServices:updateSearch';\nexport const RESET_DS_SEARCH = 'displayedServices:resetSearch';\nexport const UPDATE_DS_SERVICE = 'displayedServices:updateDisplayedService';\nexport const SET_REDIRECT = 'displayedServices:setRedirect';\n\nexport function updateDisplay(event) {\n  return ({\n    type: UPDATE_DS_DISPLAY,\n    payload: {\n      ...event\n    }\n  });\n}\n\nexport function addContent(event) {\n  return ({\n    type: ADD_DS_CONTENT,\n    payload: {\n      services: [...event]\n    }\n  });\n}\n\nexport function updateSearch(event) {\n  return ({\n    type: UPDATE_DS_SEARCH,\n    payload: {\n      search: String(event)\n    }\n  });\n}\n\nexport function resetSearch() {\n  return ({\n    type: RESET_DS_SEARCH,\n    payload: {}\n  });\n}\n\nexport function updateDisplayedService(event) {\n  return ({\n    type: UPDATE_DS_SERVICE,\n    payload: {_id: String(event)}\n  });\n}\n\nexport function setRedirect(bool) {\n  return ({\n    type: SET_REDIRECT,\n    payload: bool\n  })\n}\n","import React from \"react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { logOut } from '../../actions/user-actions'\nimport { withCookies } from \"react-cookie\";\nimport { setToken } from \"../../actions/auth-actions\";\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\nimport { setRedirect, updateDisplay, updateSearch } from \"../../actions/displayed-services-actions\";\n\nexport class Header extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n        this.renderContent = this.renderContent.bind(this);\n        this.handleButton = this.handleButton.bind(this);\n    }\n\n    handleClick() {\n        let { cookies } = this.props\n        this.props.onLogOut();\n        this.props.onSetToken(\"\");\n        cookies.set(\"authToken\", undefined, {path: \"/\"}); \n        cookies.set(\"authUser\", undefined, {path:\"/\"});\n    }\n\n    handleChange(e) {\n     this.props.onUpdateSearch(e.target.value) \n    }\n\n    handleKeyPress(e) {\n      let searchtext = this.props.displayedServices.search;\n      if(e.key === \"Enter\") {\n        fetch(`/services?search=${searchtext}&page=0&ipp=${this.props.displayedServices.ipp}`, {\n          method: 'GET',\n          headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json'\n          }\n        }).then(response => response.json()).then((e) => {\n            if (e.type === \"res\") {\n              this.props.onUpdateDisplay({\n                services: [...e.value],\n                page: 1,\n                homeredirect: true\n              })\n            } else {\n              alert(e.value);\n            }\n    \n          }).catch((e)=> {\n            console.log(e);\n        });\n      }\n    }\n    componentDidMount() {\n      document.addEventListener('DOMContentLoaded', function() {\n        var elems = document.querySelectorAll('.sidenav');\n        var instances = M.Sidenav.init(elems, {preventScrolling: true});\n      });\n    }\n\n    handleButton() {\n      this.props.onSetRedirect(false)\n    }\n\n    renderContent() {\n      let notlogged = \n      <div>\n        <div class=\"navbar-fixed\">\n            <nav>\n              <div class=\"nav-wrapper row\" style={{backgroundColor: \"#00774f\"}}>\n                <a href=\"#\" data-target=\"mobile-demo\" class=\"sidenav-trigger col s1\"><i class=\"material-icons\">menu</i></a>\n                <div class=\"col s10 m10 l6 offset-l3\">\n                  <input type=\"search\" placeholder=\"Buscar...\" onChange={this.handleChange} onKeyPress={this.handleKeyPress}></input>\n                </div>\n                <ul class=\"col l2 offset-l1 right hide-on-med-and-down\">\n                  <li><NavLink to=\"/signin\" onClick={this.handleButton}>LogIn</NavLink></li>\n                  <li><NavLink to=\"/signup\" onClick={this.handleButton}>Registro</NavLink></li>\n                </ul>\n              </div>\n            </nav>\n          </div>\n            <ul class=\"sidenav\" id=\"mobile-demo\">\n              <li><NavLink to=\"/signin\" onClick={this.handleButton}>LogIn</NavLink></li>\n              <li><NavLink to=\"/signup\" onClick={this.handleButton}>Registro</NavLink></li>\n            </ul>\n        \n      </div>\n      \n      \n      let logged = \n      <div>\n        <div class=\"navbar-fixed\">\n          <nav>\n            <div class=\"nav-wrapper row\" style={{backgroundColor: \"#00774f\"}}>\n              <a href=\"#\" data-target=\"mobile-demo\" class=\"sidenav-trigger col s1\"><i class=\"material-icons\">menu</i></a>\n              <div class=\"col s10 m10 l6 offset-l3\">\n                <input type=\"search\" placeholder=\"Buscar...\" onChange={this.handleChange} onKeyPress={this.handleKeyPress}></input>\n              </div>\n              \n              <ul class=\"col l3 right hide-on-med-and-down\">\n                <li><NavLink to=\"/\" onClick={this.handleButton}>Mi cuenta</NavLink></li>\n                <li><NavLink to=\"/servicePost\" onClick={this.handleButton}>Publicar servicio</NavLink></li>                \n                <li><a href=\"#\" onClick={this.handleClick}>Cerrar Sesión</a></li>\n              </ul>\n            </div>\n          </nav>\n        </div>\n        <ul class=\"sidenav\" id=\"mobile-demo\">\n          <li><NavLink to=\"/\" onClick={this.handleButton}>Mi cuenta</NavLink></li>\n          <li><NavLink to=\"/servicePost\" onClick={this.handleButton}>Publicar servicio</NavLink></li>  \n          <li><a href=\"#\" onClick={this.handleClick}>Cerrar Sesión</a></li>\n        </ul>\n      \n      </div>\n\n      if(this.props.currentUser.username === \"\"){\n        return notlogged\n      } else {\n        return logged\n      }\n    }\n\n    render() {\n      return(this.renderContent())\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    return ({\n      currentUser: state.currentUser,\n      auth: state.auth,\n      displayedServices: state.displayedServices\n    });\n  }\n  \n  const mapActionsToProps = (dispatch, props) => {\n    return bindActionCreators({\n      onLogOut: logOut,\n      onSetToken: setToken,\n      onUpdateSearch: updateSearch,\n      onUpdateDisplay: updateDisplay,\n      onSetRedirect: setRedirect\n    }, dispatch); \n  }\n  \n  export default withCookies(connect(mapStateToProps, mapActionsToProps)(Header));","import React from \"react\";\n\nfunction Footer() {\n    return (\n        <footer class=\"page-footer\" style={{paddingTop: \"0\", backgroundColor: \"#008d62\"}}>\n          <div class=\"footer-copyright\">\n            <div class=\"container\">\n            2022 - Pablo Alonso Flores\n            <a class=\"grey-text text-lighten-4 right\" href=\"#!\">More Links</a>\n            </div>\n          </div>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from \"react\";\n\nfunction ServiceCard(props) {\n    let serviceInfo = props.elementInfo\n    let img = \"iVBORw0KGgoAAAANSUhEUgAAAssAAAHfCAMAAACReWX5AAAA51BMVEVpXM3TwL6wn8Pl0byHeMmbi8a5qMKHfdH/6rillcXBsMF7bct9b8pqXc365bn+6bjRv75xZMxvYszt2brItsCSg8fSwL6gkMV/ccp7bcrLuL+qmcTZxr13acvn1Lt1aMuGeMn24rmDdcnFs8D04LmUhcejk8Xj0LyzosOhkcXjz7ziz7xxY8yyocOxoMOBcsqunsPArsGuncOPgMjRvr9+b8rv2rqNf8iejsaMfcj757iKe8jLub9rXs3cyb3Jt7+qmsR5bMt5a8upmMT65rmIesl2aMt0Z8uGd8m1pMKXh8f14bmWhsfTbQknAAADrElEQVR42uzc106VURSF0a1IXBaKYG+AXWPvxth7ef/nkXNU5AKM5cjPno7xDF+yd+bFagAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMHTpdQ5g9eKDBJN2brYEcbDBJJ2oosw0maWcNpoGWYbOWd28xLaNl0DLptEwKLZNCy6TQMim0TAotk0LLpNAyKbRMCi2TQsuk0DIptEwKLZNCy6TQMim0TAotk0LL9OjtrpHlA1qmbwt366vXr7RM167Xd3M3tEzPDteay1qmZztqzWMt07MfLd/yX6Zr45YXp6en39sx6Nu45Sn7Mv3TMim0TAotk0LLpNAyKbRMCi2TQsuk0DIptEwKLZNCy6TQMim0TAotk0LLpNAyKbRMCi2TQst06NSRPd88fKdlOvZopdace6Nl+jVV65zUMv2aq3Xua5l+1XrHtUy/ap2nS1qmXzXybP/IC5scPauRvfZl+qdlUmiZFFomhZZJoWVSaJkUWiaFlkmhZVJomRRaJoWWSaFlUmiZFFomxe+1PAQto2X+L1W/3vLNGspcg0m2/LmGMtVgki3PHK9hrNxpMLGWxx7sGcKRUw3+uGUPO73RMim0TAotk0LLpNAyKbRMiu3U8szy0ZkG/be8dKXq5NUG3bd8tlZ9aNB9yxdr1Y4G3bc8pWW0DFomh5ZJoWVSaJkUWiaFlkmhZVJomRQ/aXlxemstapl/0fIQtIyWYbOWD9cGtMy2VrVRy5dqKNcaTLLlhfkaxvxCg4m1PHZs1xCONfjLlqF7WiaFlkmhZVJomRRaJoWWSTFMy2eef3Q5joSWL8xVzYuZ/lt+8qlWnW/Qe8sva+R2g95b3lcjOxtoGbRMLi2TQsuk0DIptEwKLX9pl45NAISBAAB+JY9FQFAQBBdwA3H/ucQB7KKBcDfD0QuX6YXL9CIfx/Cr0WU+kC24jMvwqmQrW0BNVzZyrgE1TXPJFvYlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIiIuAHhdnvCvNaURQAAAABJRU5ErkJggg==\";\n    if(serviceInfo.images.length > 0) {\n        img = serviceInfo.images.split(\",\")[0];\n    }\n    return (\n        <div class=\"small card\" id={serviceInfo._id}>\n            <div class=\"card-image\" id={serviceInfo._id}>\n            <img src={\"data:image/png;base64,\" + img} id={ serviceInfo._id}/>\n            <span class=\"card-title\" id={serviceInfo._id}>{serviceInfo.serviceName}</span>\n            </div>\n            <div class=\"card-content\" id={serviceInfo._id}>\n            <p class=\"truncate\" id={serviceInfo._id}>{serviceInfo.serviceDesc}</p>\n            </div>\n            <div class=\"card-action\" id={serviceInfo._id}>\n            <a href=\"#\" id={serviceInfo._id}>{serviceInfo.postedBy}</a>\n            </div>\n        </div>\n    )\n}\n\nexport default ServiceCard;","import React from \"react\";\nimport Main from \"./page-elements/Main\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { withCookies } from \"react-cookie\";\nimport ServiceCard from \"./page-elements/ServiceCard\";\nimport { addContent, resetSearch, setRedirect, updateDisplay, updateDisplayedService } from \"../actions/displayed-services-actions\";\n\nexport class Homepage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleRedirect = this.handleRedirect.bind(this);\n  }\n\n  handleRedirect(element) {\n    this.props.onSetRedirect(false)\n    this.props.onUpdateDisplayedService(element.target.id)\n  }\n\n  handleClick() {\n    fetch(`/services?search=${this.props.displayedServices.search}&page=${this.props.displayedServices.page}&ipp=${this.props.displayedServices.ipp}`, {\n      method: 'GET',\n      headers: { \n        'Accept': '*/*',\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.json()).then((e) => {\n        if (e.type === \"res\") {\n          this.props.onAddContent([...e.value])\n        } else {\n          alert(e.value)\n        }\n\n      }).catch((e)=> {\n        console.log(e);\n      });\n  }\n\n  //componentDidUpdate() {\n  //  this.props.onSetRedirect(false)\n  //}\n  componentDidMount() {\n    this.props.onSetRedirect(false)\n  }\n\n  render() {\n    let items = [];\n\n    for (let i = 0; i < this.props.displayedServices.services.length; i++) {\n      items.push(\n        <div class=\"col l3 m6 s12\" onClick={this.handleRedirect} id = {String(this.props.displayedServices.services[i]._id)}>\n          <Link to=\"/service\">\n            <ServiceCard  elementInfo = {{...this.props.displayedServices.services[i]}} id = {String(this.props.displayedServices.services[i]._id)} key = {String(this.props.displayedServices.services[i]._id)} />\n          </Link>\n          \n        </div>\n      )\n    }\n    let contentloader = <br/>\n    if(this.props.displayedServices.services.length%this.props.displayedServices.ipp == 0 && this.props.displayedServices.services.length) {\n      contentloader = \n      <div class=\"center\" onClick={this.handleClick}>\n        <p>Cargar más anuncios...</p>\n      </div>\n    }\n \n    return (\n      <Main>\n        <div class=\"row\">\n          {items}\n        </div>\n        {contentloader}  \n      </Main>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return ({\n    displayedServices: state.displayedServices\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onAddContent: addContent,\n    onResetSearch: resetSearch,\n    onUpdateDisplayedService: updateDisplayedService,\n    onUpdateDisplay: updateDisplay,\n    onSetRedirect: setRedirect\n  }, dispatch); \n}\n\nexport default withCookies(connect(mapStateToProps, mapActionsToProps)(Homepage));\n","import React from \"react\";\nimport Main from \"./page-elements/Main\";\nimport { Link, NavLink, Navigate } from \"react-router-dom\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { withCookies } from \"react-cookie\";\nimport {resetSearch, updateDisplayedService } from \"../actions/displayed-services-actions\";\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\n\nexport class Service extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  componentDidMount() {\n        var elems = document.querySelectorAll('.slider');\n        var instances = M.Slider.init(elems, {height: 230});\n        var elems2 = document.querySelectorAll('.materialboxed');\n        var instances2 = M.Materialbox.init(elems2, {});\n  }\n\n  componentDidUpdate() {\n    console.log(\"UPDATE\")\n  }\n  render() {\n    let dispimages = [];\n    let dispvideos = [];\n    if(this.props.displayedServices.displayed.images != \"\" && this.props.displayedServices.displayed.images != undefined){\n      dispimages = this.props.displayedServices.displayed.images.split(\",\");\n    }\n    if(this.props.displayedServices.displayed.videos != \"\" && this.props.displayedServices.displayed.videos != undefined){\n      dispvideos = this.props.displayedServices.displayed.videos.split(\",\");\n    }\n    \n    \n    if(this.props.displayedServices.displayed.serviceName == undefined || this.props.displayedServices.homeredirect == true) {\n        return(<Navigate to=\"/\" />)\n    } else {\n      let carousel = [];\n      if(dispimages.length == 0) {\n          carousel.push(<li>\n              <img class=\"materialboxed\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAssAAAHfCAMAAACReWX5AAAA51BMVEVpXM3TwL6wn8Pl0byHeMmbi8a5qMKHfdH/6rillcXBsMF7bct9b8pqXc365bn+6bjRv75xZMxvYszt2brItsCSg8fSwL6gkMV/ccp7bcrLuL+qmcTZxr13acvn1Lt1aMuGeMn24rmDdcnFs8D04LmUhcejk8Xj0LyzosOhkcXjz7ziz7xxY8yyocOxoMOBcsqunsPArsGuncOPgMjRvr9+b8rv2rqNf8iejsaMfcj757iKe8jLub9rXs3cyb3Jt7+qmsR5bMt5a8upmMT65rmIesl2aMt0Z8uGd8m1pMKXh8f14bmWhsfTbQknAAADrElEQVR42uzc106VURSF0a1IXBaKYG+AXWPvxth7ef/nkXNU5AKM5cjPno7xDF+yd+bFagAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMHTpdQ5g9eKDBJN2brYEcbDBJJ2oosw0maWcNpoGWYbOWd28xLaNl0DLptEwKLZNCy6TQMim0TAotk0LLpNAyKbRMCi2TQsuk0DIptEwKLZNCy6TQMim0TAotk0LL9OjtrpHlA1qmbwt366vXr7RM167Xd3M3tEzPDteay1qmZztqzWMt07MfLd/yX6Zr45YXp6en39sx6Nu45Sn7Mv3TMim0TAotk0LLpNAyKbRMCi2TQsuk0DIptEwKLZNCy6TQMim0TAotk0LLpNAyKbRMCi2TQst06NSRPd88fKdlOvZopdace6Nl+jVV65zUMv2aq3Xua5l+1XrHtUy/ap2nS1qmXzXybP/IC5scPauRvfZl+qdlUmiZFFomhZZJoWVSaJkUWiaFlkmhZVJomRRaJoWWSaFlUmiZFFomxe+1PAQto2X+L1W/3vLNGspcg0m2/LmGMtVgki3PHK9hrNxpMLGWxx7sGcKRUw3+uGUPO73RMim0TAotk0LLpNAyKbRMiu3U8szy0ZkG/be8dKXq5NUG3bd8tlZ9aNB9yxdr1Y4G3bc8pWW0DFomh5ZJoWVSaJkUWiaFlkmhZVJomRQ/aXlxemstapl/0fIQtIyWYbOWD9cGtMy2VrVRy5dqKNcaTLLlhfkaxvxCg4m1PHZs1xCONfjLlqF7WiaFlkmhZVJomRRaJoWWSTFMy2eef3Q5joSWL8xVzYuZ/lt+8qlWnW/Qe8sva+R2g95b3lcjOxtoGbRMLi2TQsuk0DIptEwKLX9pl45NAISBAAB+JY9FQFAQBBdwA3H/ucQB7KKBcDfD0QuX6YXL9CIfx/Cr0WU+kC24jMvwqmQrW0BNVzZyrgE1TXPJFvYlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIiIuAHhdnvCvNaURQAAAABJRU5ErkJggg==\" />\n            </li>)\n      } else {\n          for(let i in dispimages) {\n              carousel.push(<li>\n                    <img class=\"materialboxed\" src={\"data:image/png;base64,\" + dispimages[i]} />\n                </li>)\n          }\n      }\n\n      if((dispvideos.length > 0)) {\n          for(let str in dispvideos) {\n              let aux = decodeURIComponent(escape(window.atob( dispvideos[str] )))\n              carousel.push(<li>\n                  <iframe src={aux} ></iframe>\n                </li>)\n          }\n      }\n        \n      return(\n        <Main>\n            <div class=\"container\">\n                <br />\n                <h1 class=\"center\">{this.props.displayedServices.displayed.serviceName}</h1>\n                <div class=\"slider\" style={{height: \"250px\"}}>\n                    <ul class=\"slides\" style={{height: \"250px\"}}>\n                    {carousel}\n                    </ul>\n                </div>\n                <br/>\n                <div class=\"rigth\">{this.props.displayedServices.displayed.postedBy}</div>\n                <p class=\"flow-text\">{this.props.displayedServices.displayed.serviceDesc}</p>\n            </div>\n            <br/>\n        </Main>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return ({\n    displayedServices: state.displayedServices\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onResetSearch: resetSearch,\n    onUpdateDisplayedService: updateDisplayedService\n  }, dispatch); \n}\n\nexport default withCookies(connect(mapStateToProps, mapActionsToProps)(Service));","export const UPDATE_SP_FORM = 'displayedServices:updateServiceForm';\nexport const RESET_SP_FORM = 'displayedServices:resetServiceForm';\nexport const ADD_SP_IMAGE = 'displayedServices:addImage';\nexport const RESET_SP_IMAGE = 'displayedServices:resetImage';\n\nexport function updateServiceForm(event) {\n  return ({\n    type: UPDATE_SP_FORM,\n    payload: {\n      name: event.target.name,\n      value: event.target.value\n    }\n  });\n}\n\nexport function resetServiceForm() {\n  return ({\n    type: RESET_SP_FORM,\n    payload: { }\n  });\n}\n\nexport function addImage(event) {\n    return ({\n      type: ADD_SP_IMAGE,\n      payload: {\n        img: String(event)\n      }\n    });\n  }\n  \n  export function resetImage() {\n    return ({\n      type: RESET_SP_IMAGE,\n      payload: { }\n    });\n  }","import React from \"react\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { logOut } from '../../actions/user-actions'\nimport { withCookies } from \"react-cookie\";\nimport { setToken } from \"../../actions/auth-actions\";\nimport 'materialize-css/dist/css/materialize.min.css'\nimport M from 'materialize-css'\nimport { addImage, resetImage, resetServiceForm, updateServiceForm } from \"../../actions/service-post-actions\";\nimport { Link } from \"react-router-dom\";\n\nexport class ServiceForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.instances = undefined;\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n    this.handleImageUpload = this.handleImageUpload.bind(this);\n  }\n\n  handleImageUpload(e) {\n    let that = this;\n    this.props.onResetImage();\n    let files = [];\n    files = [...e.target.files];\n\n    for (let i = 0; i < files.length; i++){\n        if (!/image/.test(files[i].type)) {\n            console.log(\"Formato no válido: \" + files[i].type);\n        } else {\n            var reader = new FileReader();\n            reader.readAsDataURL(files[i]);\n            reader.onloadend = function() {\n                let img = reader.result.split(\",\")[1];\n                that.props.onAddImage(img);\n            };\n        }\n    }\n  }\n\n  handleKeyPress(e) {\n    if(e.key === \"Enter\") {\n      this.handleClick();\n    }\n  }\n\n  handleChange(e) {\n    this.props.onUpdateServiceForm(e);\n  }\n\n  handleClick() {\n    if(this.props.servicePost.serviceName == \"\" || this.props.servicePost.serviceDescription == \"\")\n        return\n    \n    let requestOptions = {\n        method: 'POST',\n        headers: { \n            'Accept': '*/*',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${this.props.auth.authToken}`\n        },\n        body: JSON.stringify({\n            serviceName: this.props.servicePost.serviceName,\n            serviceDesc: this.props.servicePost.serviceDescription\n        })\n    }\n\n    fetch(`/services`, requestOptions).then(response => response.json()).then((e) => {         \n        if(e.type == \"res\" && e.value == \"OK\") {\n            for(let i in this.props.servicePost.images) {\n                fetch(`/services/addimg`, {method: 'POST',\n                headers: { \n                    'Accept': '*/*',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${this.props.auth.authToken}`\n                },\n                body: JSON.stringify({\n                    id: e.id,\n                    image: this.props.servicePost.images[i]\n                })}).then(response => response.json()).then(e => {console.log(e)}).catch((e) => console.log(e));\n            }\n            let that = this\n            this.instances[0].open();\n        } else {\n            alert(JSON.stringify(e))\n        }\n    }).catch((e)=> {\n        console.log(e);\n        this.props.onLogOut();\n    });\n  }\n\n  componentDidMount() {\n    M.updateTextFields();\n    let elems = document.querySelectorAll('.modal');\n    this.instances = M.Modal.init(elems, {});\n  }\n\n  render() {\n    return (\n    <div class=\"container\">\n        <h1 class=\"center\" style={{fontSize: \"30px\"}}>Publicar servicio</h1>\n        <div class=\"row\">\n            <form class=\"col s12\">\n                <div class=\"row\">\n                <div class=\"input-field col s12\">\n                    <input placeholder=\"Introduzca su usuario\" id=\"serviceName\" type=\"text\" name=\"serviceName\" class=\"\" onChange={this.handleChange}/>\n                    <label for=\"serviceName\">Nombre del servicio *</label>\n                </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"input-field col s12\">\n                        <textarea id=\"serviceDescription\" class=\"materialize-textarea\" name=\"serviceDescription\" onChange={this.handleChange}></textarea>\n                        <label for=\"serviceDescription\">Descripción del servicio *</label>\n                    </div>\n                </div>\n                <div class=\"file-field input-field\">\n                    <div class=\"btn\">\n                        <span>File</span>\n                        <input type=\"file\" multiple onChange={this.handleImageUpload} />\n                    </div>\n                    <div class=\"file-path-wrapper\">\n                        <input class=\"file-path validate\" type=\"text\" placeholder=\"Upload one or more files\" />\n                    </div>  \n                </div>\n            </form>\n            <br/>\n            <div class=\"row\">\n                <a class=\"waves-effect waves-light btn col s12\" onClick={this.handleClick}>Publicar anuncio</a>\n            </div>\n        </div>\n        <div id=\"modal1\" class=\"modal\">\n            <div class=\"center modal-content\">\n                <h4>Anuncio publicado</h4>\n                <p>El anuncio ha sido publicado correctamente</p>\n            </div>\n            <div class=\"modal-footer\">\n                <div class=\"row\">\n                    <Link to=\"/\" onClick={() => {this.instances[0].close()}}><a class=\"waves-effect waves-light btn col s12\">OK</a></Link>\n                </div>\n            </div>\n        </div>\n    </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return ({\n    currentUser: state.currentUser,\n    signIn: state.signIn,\n    auth: state.auth,\n    servicePost: state.servicePost\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onLogOut: logOut,\n    onSetToken: setToken,\n    onUpdateServiceForm: updateServiceForm,\n    onResetServiceForm: resetServiceForm,\n    onAddImage: addImage,\n    onResetImage: resetImage\n  }, dispatch); \n}\n\nexport default withCookies(connect(mapStateToProps, mapActionsToProps)(ServiceForm));","import React from 'react';\nimport ServiceForm from \"./page-elements/ServiceForm\";\nimport Main from \"./page-elements/Main\";\nimport { Navigate } from 'react-router'\n\nfunction ServiceCreation(props) {\n  if(props.props.username !== \"\" && props.props.redirect == false){\n    return (\n      <div>\n        <Main>\n          <br />\n          <ServiceForm />\n        </Main>\n      </div>\n    );\n  } else {\n    return(<Navigate to=\"/\"/>)\n  }\n}\n\nexport default ServiceCreation;","import SignIn from './SignIn';\nimport SignUp from './SignUp';\nimport Header from './page-elements/Header';\nimport Footer from './page-elements/Footer';\nimport Homepage from './Homepage';\nimport Service from './Service';\nimport ServiceCreation from './ServiceCreation'\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { setToken } from '../actions/auth-actions';\nimport { withCookies } from 'react-cookie';\nimport { setUser } from '../actions/user-actions';\nimport { updateDisplay } from '../actions/displayed-services-actions';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n\n    fetch(`/services?search=${this.props.displayedServices.search}&page=${this.props.displayedServices.page}&ipp=${this.props.displayedServices.ipp}`, {\n      method: 'GET',\n      headers: { \n        'Accept': '*/*',\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.json()).then((e) => {\n        if (e.type === \"res\") {\n          this.props.onUpdateDisplay({\n            services: [...e.value],\n            page: 1\n          })\n        } else {\n          alert(e.value)\n        }\n\n      }).catch((e)=> {\n        console.log(e);\n    });\n    \n    const { cookies } = this.props;\n    let authToken = cookies.get(\"authToken\");\n    let authUser = cookies.get(\"authUser\");\n    if(authToken && authUser){\n      let requestOptions = {\n        method: 'GET',\n        headers: { \n          'Authorization': `Bearer ${authToken}`\n        }\n      }\n\n      fetch(`/user`, requestOptions).then(response => response.json()).then((e) => {\n          if (e.type === \"res\") {\n            this.props.onSetUser(e);\n            this.props.onSetToken(cookies.get(\"authToken\"));\n          } else {\n            cookies.set(\"authToken\", undefined, {path:\"/\"});\n            cookies.set(\"authUser\", undefined, {path:\"/\"});\n          }\n\n        }).catch((e)=> {\n          console.log(e);\n      });\n    } else {\n      cookies.set(\"authToken\", undefined, {path:\"/\"});\n      cookies.set(\"authUser\", undefined, {path:\"/\"});\n    }\n  }\n\n  render() {\n    return (\n      <Router>\n        <Header />\n        <Routes>\n          <Route exact path=\"/\" element={<Homepage props={{username: this.props.currentUser.username}}/>} />\n          <Route path=\"/signin\" element={<SignIn props={{username: this.props.currentUser.username, redirect: this.props.displayedServices.homeredirect}}/>} />\n          <Route path=\"/signup\" element={<SignUp props={{username: this.props.currentUser.username, redirect: this.props.displayedServices.homeredirect}}/>} />\n          <Route path=\"/service\" element={<Service props={{username: this.props.currentUser.username}}/>} />\n          <Route path=\"/servicePost\" element={<ServiceCreation props={{username: this.props.currentUser.username, redirect: this.props.displayedServices.homeredirect}}/>} />\n        </Routes>\n        <Footer />\n      </Router>\n    );\n  }\n\n}\n\n\nconst mapStateToProps = (state, props) => {\n  return ({\n    auth: state.auth,\n    currentUser: state.currentUser,\n    displayedServices: state.displayedServices\n  });\n}\n\nconst mapActionsToProps = (dispatch, props) => {\n  return bindActionCreators({\n    onSetToken: setToken,\n    onSetUser: setUser,\n    onUpdateDisplay: updateDisplay\n  }, dispatch); \n}\n\nexport default withCookies(connect(mapStateToProps, mapActionsToProps)(App));\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { createStore, combineReducers } from 'redux';\nimport { Provider } from 'react-redux';\nimport currentUserReducer from './reducers/current-user-reducer';\nimport { CookiesProvider } from 'react-cookie'\nimport signUpReducer from './reducers/sign-up-reducer';\nimport signInReducer from './reducers/sign-in-reducer';\nimport authReducer from './reducers/auth-reducer';\nimport displayedServicesReducer from './reducers/displayed-services-reducer'\nimport servicePostReducer from './reducers/service-post-reducer';\n\nconst allReducers = combineReducers({\n  currentUser: currentUserReducer,\n  signIn: signInReducer,\n  signUp: signUpReducer,\n  auth: authReducer,\n  displayedServices: displayedServicesReducer,\n  servicePost: servicePostReducer\n}); \n\nconst store = createStore(allReducers, {\n  currentUser: {\n    username : \"\",\n    fullname : \"\",\n    email : \"\",\n    registration : 0\n  },\n  signIn: {\n    username : \"\",\n    password : \"\",\n    msg: \"\"\n  },\n  signUp: {\n    username : \"\",\n    password : \"\",\n    name: \"\",\n    secondname: \"\",\n    email : \"\", \n    passwordRepeat : \"\",\n    register: false,\n    validUser : \"\",\n    validPassword : \"\",\n    validEmail : \"\"\n  },\n  auth: {\n    authToken: \"\"\n  }, \n  displayedServices: {\n    services: [],\n    page: 0,\n    ipp: 20,\n    search: \"\",\n    displayed: {},\n    homeredirect: false\n  },\n  servicePost: {\n    serviceName: \"\",\n    serviceDescription: \"\",\n    images: [],\n    finished: false\n  }\n},\n\nwindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n\n); \n\nReactDOM.render(\n  //<React.StrictMode>\n  <CookiesProvider>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </CookiesProvider>,\n  \n\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { LOG_OUT, SET_USER } from \"../actions/user-actions\";\n\nexport default function signUpReducer(state = {username : \"\",\nfullname : \"\",\nemail : \"\",\nregistration : 0}, {type, payload}) {\n  switch (type) {\n    case SET_USER:\n      return(payload);\n    \n    case LOG_OUT: \n      return({\n        username : \"\",\n        fullname : \"\",\n        email : \"\",\n        registration : 0\n      });\n  \n    default:\n      return(state);\n  }\n} ","import { UPDATE_SI_FORM, RESET_SI_FORM, UPDATE_SI_MSG } from '../actions/sign-in-actions'\n\nexport default function signInReducer(state = {username : \"\",\npassword : \"\",\nmsg: \"\"}, {type, payload}) {\n  let newState = {};\n  switch (type) {\n    case UPDATE_SI_FORM:\n      newState = {...state};\n      if(newState[payload.name] != undefined){\n        newState[payload.name] = payload.value;\n      }\n      return(newState);\n\n    case RESET_SI_FORM:\n      return({\n        username : \"\",\n        password : \"\",\n        msg: \"\"\n      });\n    \n    case UPDATE_SI_MSG:\n      newState = {...state};\n      newState.msg = payload.msg;\n      return(newState);\n    \n    default:\n      return(state);\n  }\n} ","import { UPDATE_SU_FORM, RESET_SU_FORM, UPDATE_SU_MSG } from \"../actions/sign-up-actions\";\n\nexport default function signUpReducer(state = {username : \"\",\npassword : \"\",\nemail : \"\",\nname: \"\",\nsecondname: \"\", \npasswordRepeat : \"\",\nregister: false,\nvalidUser : \"\",\nvalidPassword : \"\",\nvalidEmail : \"\" }, {type, payload}) {\n  let newState = {};\n  switch (type) {\n    case UPDATE_SU_FORM:\n      newState = {...state};\n      if(newState[payload.name] != undefined){\n        newState[payload.name] = payload.value;\n      }\n      return(newState);\n\n    case RESET_SU_FORM:\n      return({\n        username : \"\",\n        password : \"\",\n        email : \"\", \n        passwordRepeat : \"\",\n        register: false,\n        validUser : \"\",\n        validPassword : \"\",\n        validEmail : \"\"\n      });\n    \n    case UPDATE_SU_MSG:\n      newState = {...state};\n      newState.validUser = payload.validUser === undefined ? newState.validUser : payload.validUser;\n      newState.validPassword = payload.validPassword === undefined ? newState.validPassword : payload.validPassword;\n      newState.validEmail = payload.validEmail === undefined ? newState.validEmail : payload.validEmail;\n      return(newState);\n    \n    default:\n      return(state); \n  }\n} ","import { SET_TOKEN } from \"../actions/auth-actions\";\n\nexport default function authReducer(state = {authToken: \"\"}, {type, payload}) {  \n  if (type == SET_TOKEN) {\n    return(payload);\n  } else {\n    return(state);\n  }\n} ","import { UPDATE_DS_DISPLAY, ADD_DS_CONTENT, UPDATE_DS_SEARCH, RESET_DS_SEARCH, UPDATE_DS_SERVICE, SET_REDIRECT } from '../actions/displayed-services-actions'\n\nexport default function displayedServicesReducer(state = {\n    services: [],\n    page: 0,\n    ipp: 20,\n    search: \"\",\n    displayed: {},\n    homeredirect: false}, {type, payload}) {\n  let newState = {};\n  switch (type) {\n    case UPDATE_DS_DISPLAY:\n      newState = {\n        services: [],\n        page: 0,\n        ipp: 20,\n        search: \"\",\n        displayed: {},\n        homeredirect: false\n      };\n      let aux = {...payload};\n      if(Array.isArray(aux.services)){\n        newState.services = [...aux.services];    \n      }\n      if(aux.page != undefined)\n        newState.page = Number(aux.page);\n      if(aux.ipp != undefined)\n        newState.ipp = aux.ipp;\n      if(aux.homeredirect != undefined)\n        newState.homeredirect = aux.homeredirect;\n      \n      return(newState);\n    \n    case ADD_DS_CONTENT:\n      newState = {...state}\n      if(Array.isArray(payload.services)) {\n        for(let i in payload.services){\n          newState.services.push({...payload.services[i]})\n        }\n      }\n      newState.page ++;\n      return(newState);\n\n    case UPDATE_DS_SEARCH:\n      newState = {...state}\n      newState.search = payload.search\n      return(newState);\n\n    case RESET_DS_SEARCH:\n      newState = {...state}\n      newState.search = \"\";\n      return(newState);\n\n    case UPDATE_DS_SERVICE:\n      newState = {...state}\n      if(payload._id == \"\") {\n        newState.displayed = {}\n      } else {\n        for(let i in newState.services) {\n          if(newState.services[i]._id == payload._id) {\n            newState.displayed = {...newState.services[i]}\n          }\n        }\n      }\n      return(newState);\n\n    case SET_REDIRECT:\n      newState = {...state}\n      newState.homeredirect = payload\n      return(newState);\n        \n\n\n    default:\n      return(state);\n  }\n}","import { UPDATE_SP_FORM, RESET_SP_FORM, ADD_SP_IMAGE, RESET_SP_IMAGE } from \"../actions/service-post-actions\";\n\nexport default function servicePostReducer(state = {serviceName: \"\",\nserviceDescription: \"\",\nimages: [],\nfinished: false}, {type, payload}) {\n  let newState = {};\n  switch (type) {\n    case UPDATE_SP_FORM:\n      newState = {...state};\n      if(newState[payload.name] != undefined){\n        newState[payload.name] = payload.value;\n      }\n      return(newState);\n\n    case RESET_SP_FORM:\n      return({\n        serviceName: \"\",\n        serviceDescription: \"\",\n        images: [],\n        finished: false\n      });\n    \n    case ADD_SP_IMAGE:\n      newState = {...state};\n      if(payload.img != undefined) {\n          newState.images.push(payload.img)\n      }\n      return(newState);\n\n    case RESET_SP_IMAGE:\n      newState = {...state};\n      newState.images = []\n      return(newState);\n    \n    default:\n      return(state);\n  }\n} "],"sourceRoot":""}